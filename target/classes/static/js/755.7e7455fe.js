"use strict";(self["webpackChunkyggdrasil_client"]=self["webpackChunkyggdrasil_client"]||[]).push([[755],{4501:function(e,t,s){s.d(t,{Z:function(){return w}});var a=s(3396),r=s(7139),i=s(9242),n=(e,t)=>{const s=e.__vccOpts||e;for(const[a,r]of t)s[a]=r;return s};const l={data(){return{innerValue:1}},props:{modelValue:{type:Number},pageCount:{type:Number,required:!0},initialPage:{type:Number,default:1},forcePage:{type:Number},clickHandler:{type:Function,default:()=>{}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String,default:"pagination"},pageClass:{type:String,default:"page-item"},pageLinkClass:{type:String,default:"page-link"},prevClass:{type:String,default:"page-item"},prevLinkClass:{type:String,default:"page-link"},nextClass:{type:String,default:"page-item"},nextLinkClass:{type:String,default:"page-link"},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},computed:{selected:{get:function(){return this.modelValue||this.innerValue},set:function(e){this.innerValue=e}},pages:function(){let e={};if(this.pageCount<=this.pageRange)for(let t=0;t<this.pageCount;t++){let s={index:t,content:t+1,selected:t===this.selected-1};e[t]=s}else{const t=Math.floor(this.pageRange/2);let s=t=>{let s={index:t,content:t+1,selected:t===this.selected-1};e[t]=s},a=t=>{let s={disabled:!0,breakView:!0};e[t]=s};for(let e=0;e<this.marginPages;e++)s(e);let r=0;this.selected-t>0&&(r=this.selected-1-t);let i=r+this.pageRange-1;i>=this.pageCount&&(i=this.pageCount-1,r=i-this.pageRange+1);for(let e=r;e<=i&&e<=this.pageCount-1;e++)s(e);r>this.marginPages&&a(r-1),i+1<this.pageCount-this.marginPages&&a(i+1);for(let e=this.pageCount-1;e>=this.pageCount-this.marginPages;e--)s(e)}return e}},methods:{handlePageSelected(e){this.selected!==e&&(this.innerValue=e,this.$emit("update:modelValue",e),this.clickHandler(e))},prevPage(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected(){return 1===this.selected},lastPageSelected(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage(){this.selected<=1||this.handlePageSelected(1)},selectLastPage(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}},beforeMount(){this.innerValue=this.initialPage},beforeUpdate(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)}},o=["tabindex","innerHTML"],d=["tabindex","innerHTML"],u=["onClick","onKeyup"],c=["tabindex","innerHTML"],h=["tabindex","innerHTML"],p=["innerHTML"],m=["innerHTML"],g=["onClick","onKeyup"],y=["innerHTML"],f=["innerHTML"];function x(e,t,s,n,l,x){return s.noLiSurround?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,r.C_)(s.containerClass)},[s.firstLastButton?((0,a.wg)(),(0,a.iD)("a",{key:0,onClick:t[8]||(t[8]=e=>x.selectFirstPage()),onKeyup:t[9]||(t[9]=(0,i.D2)((e=>x.selectFirstPage()),["enter"])),class:(0,r.C_)([s.pageLinkClass,x.firstPageSelected()?s.disabledClass:""]),tabindex:"0",innerHTML:s.firstButtonText},null,42,p)):(0,a.kq)("",!0),x.firstPageSelected()&&s.hidePrevNext?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:1,onClick:t[10]||(t[10]=e=>x.prevPage()),onKeyup:t[11]||(t[11]=(0,i.D2)((e=>x.prevPage()),["enter"])),class:(0,r.C_)([s.prevLinkClass,x.firstPageSelected()?s.disabledClass:""]),tabindex:"0",innerHTML:s.prevText},null,42,m)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.pages,(t=>((0,a.wg)(),(0,a.iD)(a.HY,null,[t.breakView?((0,a.wg)(),(0,a.iD)("a",{key:t.index,class:(0,r.C_)([s.pageLinkClass,s.breakViewLinkClass,t.disabled?s.disabledClass:""]),tabindex:"0"},[(0,a.WI)(e.$slots,"breakViewContent",{},(()=>[(0,a.Uk)((0,r.zw)(s.breakViewText),1)]))],2)):t.disabled?((0,a.wg)(),(0,a.iD)("a",{key:t.index,class:(0,r.C_)([s.pageLinkClass,t.selected?s.activeClass:"",s.disabledClass]),tabindex:"0"},(0,r.zw)(t.content),3)):((0,a.wg)(),(0,a.iD)("a",{key:t.index,onClick:e=>x.handlePageSelected(t.index+1),onKeyup:(0,i.D2)((e=>x.handlePageSelected(t.index+1)),["enter"]),class:(0,r.C_)([s.pageLinkClass,t.selected?s.activeClass:""]),tabindex:"0"},(0,r.zw)(t.content),43,g))],64)))),256)),x.lastPageSelected()&&s.hidePrevNext?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:2,onClick:t[12]||(t[12]=e=>x.nextPage()),onKeyup:t[13]||(t[13]=(0,i.D2)((e=>x.nextPage()),["enter"])),class:(0,r.C_)([s.nextLinkClass,x.lastPageSelected()?s.disabledClass:""]),tabindex:"0",innerHTML:s.nextText},null,42,y)),s.firstLastButton?((0,a.wg)(),(0,a.iD)("a",{key:3,onClick:t[14]||(t[14]=e=>x.selectLastPage()),onKeyup:t[15]||(t[15]=(0,i.D2)((e=>x.selectLastPage()),["enter"])),class:(0,r.C_)([s.pageLinkClass,x.lastPageSelected()?s.disabledClass:""]),tabindex:"0",innerHTML:s.lastButtonText},null,42,f)):(0,a.kq)("",!0)],2)):((0,a.wg)(),(0,a.iD)("ul",{key:0,class:(0,r.C_)(s.containerClass)},[s.firstLastButton?((0,a.wg)(),(0,a.iD)("li",{key:0,class:(0,r.C_)([s.pageClass,x.firstPageSelected()?s.disabledClass:""])},[(0,a._)("a",{onClick:t[0]||(t[0]=e=>x.selectFirstPage()),onKeyup:t[1]||(t[1]=(0,i.D2)((e=>x.selectFirstPage()),["enter"])),class:(0,r.C_)(s.pageLinkClass),tabindex:x.firstPageSelected()?-1:0,innerHTML:s.firstButtonText},null,42,o)],2)):(0,a.kq)("",!0),x.firstPageSelected()&&s.hidePrevNext?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",{key:1,class:(0,r.C_)([s.prevClass,x.firstPageSelected()?s.disabledClass:""])},[(0,a._)("a",{onClick:t[2]||(t[2]=e=>x.prevPage()),onKeyup:t[3]||(t[3]=(0,i.D2)((e=>x.prevPage()),["enter"])),class:(0,r.C_)(s.prevLinkClass),tabindex:x.firstPageSelected()?-1:0,innerHTML:s.prevText},null,42,d)],2)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.pages,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.index,class:(0,r.C_)([s.pageClass,t.selected?s.activeClass:"",t.disabled?s.disabledClass:"",t.breakView?s.breakViewClass:""])},[t.breakView?((0,a.wg)(),(0,a.iD)("a",{key:0,class:(0,r.C_)([s.pageLinkClass,s.breakViewLinkClass]),tabindex:"0"},[(0,a.WI)(e.$slots,"breakViewContent",{},(()=>[(0,a.Uk)((0,r.zw)(s.breakViewText),1)]))],2)):t.disabled?((0,a.wg)(),(0,a.iD)("a",{key:1,class:(0,r.C_)(s.pageLinkClass),tabindex:"0"},(0,r.zw)(t.content),3)):((0,a.wg)(),(0,a.iD)("a",{key:2,onClick:e=>x.handlePageSelected(t.index+1),onKeyup:(0,i.D2)((e=>x.handlePageSelected(t.index+1)),["enter"]),class:(0,r.C_)(s.pageLinkClass),tabindex:"0"},(0,r.zw)(t.content),43,u))],2)))),128)),x.lastPageSelected()&&s.hidePrevNext?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",{key:2,class:(0,r.C_)([s.nextClass,x.lastPageSelected()?s.disabledClass:""])},[(0,a._)("a",{onClick:t[4]||(t[4]=e=>x.nextPage()),onKeyup:t[5]||(t[5]=(0,i.D2)((e=>x.nextPage()),["enter"])),class:(0,r.C_)(s.nextLinkClass),tabindex:x.lastPageSelected()?-1:0,innerHTML:s.nextText},null,42,c)],2)),s.firstLastButton?((0,a.wg)(),(0,a.iD)("li",{key:3,class:(0,r.C_)([s.pageClass,x.lastPageSelected()?s.disabledClass:""])},[(0,a._)("a",{onClick:t[6]||(t[6]=e=>x.selectLastPage()),onKeyup:t[7]||(t[7]=(0,i.D2)((e=>x.selectLastPage()),["enter"])),class:(0,r.C_)(s.pageLinkClass),tabindex:x.lastPageSelected()?-1:0,innerHTML:s.lastButtonText},null,42,h)],2)):(0,a.kq)("",!0)],2))}var w=n(l,[["render",x]])},7882:function(e,t,s){var a=s(4161),r=s(2479);const i="http://localhost/api/v1/documents/";class n{getDocument(e){return a.Z.get(i+`${e}`,{headers:(0,r.Z)()})}getDocuments(e,t,s,n,l,o,d,u,c){let h=JSON.stringify({typeSearch:e,parameter:t,currentPage:s,sortField:n,sortDir:l,statusName:o,minDate:d,maxDate:u,documentType:c}),p={method:"post",maxBodyLength:1/0,url:i+"all",headers:(0,r.Z)(),data:h};return a.Z.request(p)}getDocumentStructures(){return a.Z.get(i+"structures/short",{headers:(0,r.Z)()})}getDocumentStructure(e){return a.Z.get(i+`structures/${e}`,{headers:(0,r.Z)()})}createDocument(e,t,s,n){let l=JSON.stringify({documentData:JSON.stringify(n),documentStatusId:Number(s),documentStructureId:Number(t),username:e}),o={method:"post",maxBodyLength:1/0,url:i+"create",headers:(0,r.Z)(),data:l};return a.Z.request(o)}deleteDocument(e){return a.Z["delete"](i+"delete/"+e,{headers:(0,r.Z)()})}updateDocumentStatus(e,t){let s=JSON.stringify({documentStatusId:JSON.stringify(t)}),n={method:"post",maxBodyLength:1/0,url:i+`${e}/status/update`,headers:(0,r.Z)(),data:s};return a.Z.request(n)}updateDocumentData(e,t){let s=JSON.stringify({documentData:JSON.stringify(t)}),n={method:"post",maxBodyLength:1/0,url:i+`${e}/data/update`,headers:(0,r.Z)(),data:s};return a.Z.request(n)}getUserStatistics(e,t,s){let n=JSON.stringify({minDate:t,maxDate:s}),l={method:"post",maxBodyLength:1/0,url:i+`statistic/user/${e}`,headers:(0,r.Z)(),data:n};return a.Z.request(l)}getDepartmentStatistics(e,t,s){let n=JSON.stringify({minDate:t,maxDate:s}),l={method:"post",maxBodyLength:1/0,url:i+`statistic/department/${e}`,headers:(0,r.Z)(),data:n};return a.Z.request(l)}getFacultayStatistics(e,t,s){let n=JSON.stringify({minDate:t,maxDate:s}),l={method:"post",maxBodyLength:1/0,url:i+`statistic/faculty/${e}`,headers:(0,r.Z)(),data:n};return a.Z.request(l)}getAllStatistics(e,t){let s=JSON.stringify({minDate:e,maxDate:t}),n={method:"post",maxBodyLength:1/0,url:i+"statistic/all",headers:(0,r.Z)(),data:s};return a.Z.request(n)}getAllDocumentTypes(){return a.Z.get(i+"types/all",{headers:(0,r.Z)()})}checkDocumentTypeName(e){let t=JSON.stringify({name:e}),s={method:"post",maxBodyLength:1/0,url:i+"types/check",headers:(0,r.Z)(),data:t};return a.Z.request(s)}createDocumentType(e){let t=JSON.stringify({name:e}),s={method:"post",maxBodyLength:1/0,url:i+"types/create",headers:(0,r.Z)(),data:t};return a.Z.request(s)}getAdminDocumentStructures(e,t,s,n,l,o,d,u){let c=JSON.stringify({parameter:e,currentPage:t,sortField:s,sortDir:n,isActive:l,minDate:o,maxDate:d,documentTypeName:u}),h={method:"post",maxBodyLength:1/0,url:i+"structures/short/admin",headers:(0,r.Z)(),data:c};return a.Z.request(h)}createDocumentStructure(e,t,s,n,l){let o=JSON.stringify({id:e,name:t,description:s,documentTypeId:n,structureData:JSON.stringify(l)}),d={method:"post",maxBodyLength:1/0,url:i+"structures/create",headers:(0,r.Z)(),data:o};return a.Z.request(d)}updateDocumentStructure(e,t,s,n,l){let o=JSON.stringify({id:e,name:t,description:s,documentTypeId:n,structureData:JSON.stringify(l)}),d={method:"post",maxBodyLength:1/0,url:i+"structures/update",headers:(0,r.Z)(),data:o};return a.Z.request(d)}updateStatusDocumentStructure(e,t){let s=JSON.stringify({id:e,isActive:Boolean(t)}),n={method:"post",maxBodyLength:1/0,url:i+"structures/status/update",headers:(0,r.Z)(),data:s};return a.Z.request(n)}checkDocumentStructure(e){return a.Z.get(i+`structures/${e}/check`,{headers:(0,r.Z)()})}updateStatusDocumentsByStructureId(e){let t=JSON.stringify({id:e}),s={method:"post",maxBodyLength:1/0,url:i+"status/update/remake",headers:(0,r.Z)(),data:t};return a.Z.request(s)}getNewDocumentStructures(e){let t=JSON.stringify({oldDocumentStructureId:e}),s={method:"post",maxBodyLength:1/0,url:i+"structures/new/all",headers:(0,r.Z)(),data:t};return a.Z.request(s)}getAllFacultyDocuments(e,t,s,n){let l=JSON.stringify({documentStructureId:e,facultyId:t,minDate:s,maxDate:n}),o={method:"post",maxBodyLength:1/0,url:i+"faculty/all",headers:(0,r.Z)(),data:l};return a.Z.request(o)}getAllDepartmentDocuments(e,t,s,n){let l=JSON.stringify({documentStructureId:e,departmentId:t,minDate:s,maxDate:n}),o={method:"post",maxBodyLength:1/0,url:i+"department/all",headers:(0,r.Z)(),data:l};return a.Z.request(o)}archivingDocuments(e,t,s,n){let l=JSON.stringify({documentStructureId:e,documentStatusId:t,minDate:s,maxDate:n}),o={method:"post",maxBodyLength:1/0,url:i+"archiving",headers:(0,r.Z)(),data:l};return a.Z.request(o)}documentExportToExcel(e,t,s,n,l){let o=JSON.stringify({documentStructures:e,facultyId:t,departmentId:s,minDate:n,maxDate:l}),d={method:"post",maxBodyLength:1/0,url:i+"export",headers:(0,r.Z)(),responseType:"blob",data:o};return a.Z.request(d)}documentCombinedExportToExcel(e,t,s,n,l){let o=JSON.stringify({documentStructures:e,facultyList:t,departmentList:s,minDate:n,maxDate:l}),d={method:"post",maxBodyLength:1/0,url:i+"combined/export",headers:(0,r.Z)(),responseType:"blob",data:o};return a.Z.request(d)}updateDocumentType(e,t){let s=JSON.stringify({documentTypeName:t}),n={method:"post",maxBodyLength:1/0,url:i+"types/update/"+e,headers:(0,r.Z)(),data:s};return a.Z.request(n)}}t["Z"]=new n},1352:function(e,t,s){var a=s(4161),r=s(2479);const i="http://localhost/api/v1/reports/";class n{getReport(e){return a.Z.get(i+e,{headers:(0,r.Z)()})}getAllReports(e,t,s,n,l,o,d,u){let c=JSON.stringify({parameter:e,currentPage:t,sortField:s,sortDir:n,statusName:l,minDate:o,maxDate:d,reportType:u}),h={method:"post",maxBodyLength:1/0,url:i+"all",headers:(0,r.Z)(),data:c};return a.Z.request(h)}getAllReportStructures(e,t,s,n,l,o,d,u){let c=JSON.stringify({parameter:e,currentPage:t,sortField:s,sortDir:n,isActive:l,minDate:o,maxDate:d,reportTypeName:u}),h={method:"post",maxBodyLength:1/0,url:i+"structures/all",headers:(0,r.Z)(),data:c};return a.Z.request(h)}getAllActiveReportStructures(){return a.Z.get(i+"structures/active/all",{headers:(0,r.Z)()})}getReportStructureById(e){return a.Z.get(i+"structures/"+e,{headers:(0,r.Z)()})}getAllReportTypes(){return a.Z.get(i+"types/all",{headers:(0,r.Z)()})}checkReportTypeName(e){let t=JSON.stringify({name:e}),s={method:"post",maxBodyLength:1/0,url:i+"types/check",headers:(0,r.Z)(),data:t};return a.Z.request(s)}createReportType(e){let t=JSON.stringify({name:e}),s={method:"post",maxBodyLength:1/0,url:i+"types/create",headers:(0,r.Z)(),data:t};return a.Z.request(s)}checkReportStructure(e){return a.Z.get(i+`structures/${e}/check`,{headers:(0,r.Z)()})}createReportStructure(e,t,s,n,l){let o=JSON.stringify({id:e,name:t,description:s,reportTypeId:n,structureData:JSON.stringify(l)}),d={method:"post",maxBodyLength:1/0,url:i+"structures/create",headers:(0,r.Z)(),data:o};return a.Z.request(d)}updateStatusReportStructure(e,t){let s=JSON.stringify({id:e,isActive:Boolean(t)}),n={method:"post",maxBodyLength:1/0,url:i+"structures/status/update",headers:(0,r.Z)(),data:s};return a.Z.request(n)}updateReportStructure(e,t,s,n,l){let o=JSON.stringify({id:e,name:t,description:s,reportTypeId:n,structureData:JSON.stringify(l)}),d={method:"post",maxBodyLength:1/0,url:i+"structures/update",headers:(0,r.Z)(),data:o};return a.Z.request(d)}getNewReportStructures(e){let t=JSON.stringify({oldReportStructureId:e}),s={method:"post",maxBodyLength:1/0,url:i+"structures/new/all",headers:(0,r.Z)(),data:t};return a.Z.request(s)}createReport(e,t,s,n,l,o){let d=JSON.stringify({reportData:JSON.stringify(e),dateStart:t,dateEnd:s,reportStructureId:n,userId:l,reportStatusId:o}),u={method:"post",maxBodyLength:1/0,url:i+"create",headers:(0,r.Z)(),data:d};return a.Z.request(u)}updateReport(e,t,s,n,l,o,d){let u=JSON.stringify({reportId:e,reportData:JSON.stringify(t),dateStart:s,dateEnd:n,reportStructureId:l,userId:o,reportStatusId:d}),c={method:"post",maxBodyLength:1/0,url:i+"update",headers:(0,r.Z)(),data:u};return a.Z.request(c)}updateReportStatus(e,t){let s=JSON.stringify({reportId:e,statusId:t}),n={method:"post",maxBodyLength:1/0,url:i+"status/update",headers:(0,r.Z)(),data:s};return a.Z.request(n)}updateReportChange(e,t){let s=JSON.stringify({reportId:e,canChange:t}),n={method:"post",maxBodyLength:1/0,url:i+"change/update",headers:(0,r.Z)(),data:s};return a.Z.request(n)}deleteReport(e){return a.Z["delete"](i+"delete/"+e,{headers:(0,r.Z)()})}updateReportType(e,t){let s=JSON.stringify({reportTypeName:t}),n={method:"post",maxBodyLength:1/0,url:i+"types/update/"+e,headers:(0,r.Z)(),data:s};return a.Z.request(n)}}t["Z"]=new n},8310:function(e,t,s){s.d(t,{Z:function(){return L}});var a=s(3396),r=s(7139);const i={class:"input-field col s12 selectSingle w-full"},n=["multiple","disabled"],l=["selected"],o=["value","selected"],d=["multiple","disabled"],u=["selected"],c=["value","selected"],h=["multiple","disabled"],p=["selected"],m=["value","selected"],g=["multiple","disabled"],y=["selected"],f=["value","selected"],x={class:"opacity-0"},w=["multiple","disabled"],D=["selected"],k=["value","selected"],S={class:"opacity-0"};function v(e,t,s,v,b,C){return(0,a.wg)(),(0,a.iD)("div",i,["filter"===this.type?((0,a.wg)(),(0,a.iD)("select",{key:0,multiple:this.multy,disabled:this.disabled},[(0,a._)("option",{value:"",selected:this.selected},(0,r.zw)(s.message),9,l),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.content,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e,selected:e===this.equalId},(0,r.zw)(e),9,o)))),128))],8,n)):Array.isArray(this.equalId)||0===this.content.length||"object"===typeof this.content[0]?Array.isArray(this.equalId)&&0!==this.content.length&&"object"!==typeof this.content[0]?((0,a.wg)(),(0,a.iD)("select",{key:2,multiple:this.multy,disabled:this.disabled},[(0,a._)("option",{value:"",disabled:"",selected:this.selected},(0,r.zw)(s.message),9,p),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.content,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e,selected:this.isSelect(this.equalId,e)},(0,r.zw)(e),9,m)))),128))],8,h)):Array.isArray(this.equalId)?((0,a.wg)(),(0,a.iD)("select",{key:4,multiple:this.multy,disabled:this.disabled},[(0,a._)("option",{value:"",disabled:"",selected:this.selected},(0,r.zw)(s.message),9,D),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.content,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id,selected:this.isSelect(this.equalId,e.id)},[(0,a.Uk)((0,r.zw)(e.name)+" ",1),(0,a._)("span",S,"("+(0,r.zw)(e.id)+")",1)],8,k)))),128))],8,w)):((0,a.wg)(),(0,a.iD)("select",{key:3,multiple:this.multy,disabled:this.disabled},[(0,a._)("option",{value:"",disabled:"",selected:this.selected},(0,r.zw)(s.message),9,y),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.content,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id,selected:e.id===this.equalId},[(0,a.Uk)((0,r.zw)(e.name)+" ",1),(0,a._)("span",x,"("+(0,r.zw)(e.id)+")",1)],8,f)))),128))],8,g)):((0,a.wg)(),(0,a.iD)("select",{key:1,multiple:this.multy,disabled:this.disabled},[(0,a._)("option",{value:"",disabled:"",selected:this.selected},(0,r.zw)(s.message),9,u),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.content,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e,selected:e===this.equalId},(0,r.zw)(e),9,c)))),128))],8,d))])}s(7658);var b={name:"selectComponent",props:["selected","message","content","multy","disabled","equalId","type"],data:()=>({select:null}),mounted(){setTimeout((()=>{this.select=M.FormSelect.init(document.querySelectorAll("select"),{})}),0)},methods:{isSelect(e,t){let s=[];for(let a of e)s.push(Number(a));return s.includes(t)}},computed:{currentUser(){return this.$store.state.auth.user}},beforeDestroy(){this.select&&this.select.destroy&&this.select.destroy()}},C=s(89);const Z=(0,C.Z)(b,[["render",v]]);var L=Z},5755:function(e,t,s){s.r(t),s.d(t,{default:function(){return ue}});var a=s(3396),r=s(7139),i=s(9242);const n={class:"chapter-name text-3xl mb-6"},l={class:"flex gap-x-5 flex-grow"},o={class:"menu w-1/5"},d={class:"w-4/5 flex flex-col mb-5"},u={class:"search flex gap-x-5 mb-6"},c={action:"",method:"get",class:"shadow-md rounded-xl flex items-stretch w-10/12 border"},h={class:"w-full relative input-field"},p=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),m=[p],g=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})],-1),y={class:"clear-filter mb-5 flex justify-end"},f=(0,a._)("svg",{class:"w-6 h-6 mr-1",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("g",{id:"Interface / Filter_Off"},[(0,a._)("path",{id:"Vector",d:"M13 4H18.4C18.9601 4 19.2409 4 19.4548 4.10899C19.6429 4.20487 19.7948 4.35774 19.8906 4.5459C19.9996 4.75981 20 5.04005 20 5.6001V6.3448C20 6.58444 20 6.70551 19.9727 6.81942C19.9482 6.92146 19.9072 7.01893 19.8524 7.1084C19.7906 7.20931 19.7043 7.2958 19.5314 7.46875L18 9.00012M7.49961 4H5.59961C5.03956 4 4.75981 4 4.5459 4.10899C4.35774 4.20487 4.20487 4.35774 4.10899 4.5459C4 4.75981 4 5.04005 4 5.6001V6.33736C4 6.58195 4 6.70433 4.02763 6.81942C4.05213 6.92146 4.09263 7.01893 4.14746 7.1084C4.20928 7.20928 4.29591 7.29591 4.46875 7.46875L9.53149 12.5315C9.70443 12.7044 9.79044 12.7904 9.85228 12.8914C9.90711 12.9808 9.94816 13.0786 9.97266 13.1807C10 13.2946 10 13.4155 10 13.6552V18.411C10 19.2682 10 19.6971 10.1805 19.9552C10.3382 20.1806 10.5814 20.331 10.8535 20.3712C11.1651 20.4172 11.5487 20.2257 12.3154 19.8424L13.1154 19.4424C13.4365 19.2819 13.5966 19.2013 13.7139 19.0815C13.8176 18.9756 13.897 18.8485 13.9453 18.7083C14 18.5499 14 18.37 14 18.011V13.6626C14 13.418 14 13.2958 14.0276 13.1807C14.0521 13.0786 14.0926 12.9809 14.1475 12.8915C14.2091 12.7909 14.2952 12.7048 14.4669 12.5331L14.4688 12.5314L15.5001 11.5001M15.5001 11.5001L5 1M15.5001 11.5001L19 15","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),x={class:"filter-item mb-5"},w={class:"flex gap-5"},D=(0,a._)("div",{class:"whitespace-nowrap self-end text-base"},"Период дат с",-1),k=["max"],S=(0,a._)("div",{class:"whitespace-nowrap self-end text-base"},"по",-1),v=["min"],b=(0,a._)("div",{class:"whitespace-nowrap self-end text-sm"},"(не включительно)",-1),C={class:"filter-item mb-5 flex gap-5"},Z={class:"filter-item-inner w-1/2"},L=(0,a._)("div",{class:"filter-item-header mb-1"}," Сортировка по полю: ",-1),P={class:"filter-item-body"},_={class:"filter-item-inner w-1/2"},T=(0,a._)("div",{class:"filter-item-header mb-1"}," Сортировка: ",-1),N={class:"filter-item-body"},q={class:"filter-item mb-5 flex gap-5"},B={class:"filter-item-inner w-1/2"},V=(0,a._)("div",{class:"filter-item-header mb-1"}," Статус шаблона: ",-1),M={class:"filter-item-body"},R={key:0,class:"filter-item-inner w-1/2"},H=(0,a._)("div",{class:"filter-item-header mb-1"}," Тип документа: ",-1),O={class:"filter-item-body"},J={key:1,class:"filter-item-inner w-1/2"},I=(0,a._)("div",{class:"filter-item-header mb-1"}," Тип отчета: ",-1),A={class:"filter-item-body"},F={class:"main-table-menu pb-6 flex items-center bg-white relative z-10"},K={class:"battons"},$=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})],-1),z=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})],-1),j={class:"main-table-list flex flex-grow flex-row-reverse"},U={class:"main-table-item"},Y=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),E={class:"main-table-item"},W=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})],-1),G={class:""},Q={class:""};function X(e,t,s,p,X,ee){const te=(0,a.up)("Sidebar"),se=(0,a.up)("SelectVue"),ae=(0,a.up)("Loader"),re=(0,a.up)("MainTable"),ie=(0,a.up)("Paginate");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n," Конструктор шаблонов "+(0,r.zw)(this.selectDocument?"документов":"отчетов"),1),(0,a._)("div",l,[(0,a._)("div",o,[(0,a.Wm)(te)]),(0,a._)("div",d,[(0,a._)("div",u,[(0,a._)("form",c,[(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>this.parameter=e),maxlength:"255",type:"text",name:"search-text",id:"",placeholder:"Поиск",class:"w-full rounded-l-xl py-3 pl-5 pr-10 block flex-grow shrink focus:outline-none focus:ring-2 focus:ring-[var(--color-main)]"},null,512),[[i.nr,this.parameter]]),(0,a._)("div",{onClick:t[1]||(t[1]=(0,i.iM)((e=>this.parameter=""),["prevent"])),class:"cursor-pointer px-2 py-3 absolute right-0 top-0"},m)]),(0,a._)("button",{onClick:t[2]||(t[2]=(0,i.iM)(((...e)=>ee.refresh&&ee.refresh(...e)),["prevent"])),type:"submit",class:"main-btn-invers block shrink px-7 rounded-r-xl"},"Найти")]),(0,a._)("button",{onClick:t[3]||(t[3]=(0,i.iM)((e=>this.showFilter=!this.showFilter),["prevent"])),href:"#",class:"main-btn-invers rounded-xl w-2/12 block text-center py-3 flex justify-center"},[g,(0,a.Uk)(" Фильтры ")])]),(0,a._)("div",{class:"filter shadow-md rounded-xl p-5 mb-6 border",ref:"filter",style:(0,r.j5)(this.style)},[(0,a._)("div",y,[(0,a._)("button",{onClick:t[4]||(t[4]=(0,i.iM)((e=>{this.minValueDatePole="",this.maxValueDatePole="",this.resetKey+=1,this.documentKey+=1,this.reportKey+=1}),["prevent"])),class:"main-btn px-3 py-2 flex"},[f,(0,a.Uk)(" Сбросить фильтры ")])]),(0,a._)("div",x,[(0,a._)("div",w,[D,(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=t=>e.minValueDatePole=t),max:this.maxValueDatePole,class:"input-text status-data-menu-date-input"},null,8,k),[[i.nr,e.minValueDatePole]]),S,(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=t=>e.maxValueDatePole=t),min:this.minValueDatePole,class:"input-text status-data-menu-date-input"},null,8,v),[[i.nr,e.maxValueDatePole]]),b])]),(0,a._)("div",C,[(0,a._)("div",Z,[L,(0,a._)("div",P,[((0,a.wg)(),(0,a.j4)(se,{class:"search-field",selected:!0,message:"Выберите параметр сортировки",content:this.selectDocument?["Номер документа","Наименование","Статус"]:["Номер отчета","Наименование","Статус"],key:this.resetKey},null,8,["content"]))])]),(0,a._)("div",_,[T,(0,a._)("div",N,[((0,a.wg)(),(0,a.j4)(se,{class:"search-dir",message:"Выберите тип сортировки",content:["По убыванию","По возрастанию"],key:this.resetKey}))])])]),(0,a._)("div",q,[(0,a._)("div",B,[V,(0,a._)("div",M,[((0,a.wg)(),(0,a.j4)(se,{class:"search-status",type:"filter",selected:!0,message:"Выберите статус шаблона",content:["Активный","Деактивированный"],key:this.resetKey}))])]),this.selectDocument?((0,a.wg)(),(0,a.iD)("div",R,[H,(0,a._)("div",O,[((0,a.wg)(),(0,a.j4)(se,{class:"search-type-document",type:"filter",selected:!0,message:"Выберите тип документа",content:this.documentTypeList,key:this.documentKey},null,8,["content"]))])])):((0,a.wg)(),(0,a.iD)("div",J,[I,(0,a._)("div",A,[((0,a.wg)(),(0,a.j4)(se,{class:"search-type-report",type:"filter",selected:!0,message:"Выберите тип отчета",content:this.reportTypeList,key:this.reportKey},null,8,["content"]))])]))])],4),(0,a._)("div",F,[(0,a._)("div",K,[this.selectDocument?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"main-btn px-6 py-3 inline-flex items-center select-none",onClick:t[8]||(t[8]=(0,i.iM)(((...e)=>this.replaceMode&&this.replaceMode(...e)),["prevent"]))},[z,(0,a.Uk)(" Отчеты ")])):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"main-btn px-6 py-3 inline-flex items-center select-none",onClick:t[7]||(t[7]=(0,i.iM)(((...e)=>this.replaceMode&&this.replaceMode(...e)),["prevent"]))},[$,(0,a.Uk)(" Документы ")]))]),(0,a._)("ul",j,[(0,a._)("li",U,[(0,a._)("button",{class:"main-btn py-3 px-5 flex",onClick:t[9]||(t[9]=(0,i.iM)(((...e)=>ee.create&&ee.create(...e)),["prevent"]))},[Y,(0,a.Uk)(" Создать ")])]),(0,a._)("li",E,[(0,a._)("button",{class:"main-btn py-3 px-5 flex",onClick:t[10]||(t[10]=(...e)=>ee.refresh&&ee.refresh(...e))},[W,(0,a.Uk)(" Обновить ")])])])]),this.loading?((0,a.wg)(),(0,a.j4)(ae,{key:0,class:"w-full bg-white"})):(0,a.kq)("",!0),this.selectDocument&&!this.loading?((0,a.wg)(),(0,a.j4)(re,{key:1,class:"bg-white",header:e.headerDocuments,content:e.contentDocuments,noDataMessage:e.noDocuments},null,8,["header","content","noDataMessage"])):this.selectDocument||this.loading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(re,{key:2,class:"bg-white",header:e.headerReports,content:e.contentReports,noDataMessage:e.noReports},null,8,["header","content","noDataMessage"])),(0,a._)("div",{class:(0,r.C_)(["flex",{"paginate-Hidden":!this.selectDocument}])},[(0,a._)("div",G," Всего найдено шаблонов документов: "+(0,r.zw)(this.countDocumentStructures),1),(0,a.Wm)(ie,{"page-count":this.countDocumentPage,"click-handler":ee.pageDocumentChangeHandler,"prev-text":"Назад","next-text":"Вперед","container-class":"pagination"},null,8,["page-count","click-handler"])],2),(0,a._)("div",{class:(0,r.C_)(["flex",{"paginate-Hidden":this.selectDocument}])},[(0,a._)("div",Q," Всего найдено шаблонов отчетов: "+(0,r.zw)(this.countReportStructures),1),(0,a.Wm)(ie,{"page-count":this.countReportPage,"click-handler":ee.pageReportChangeHandler,"prev-text":"Назад","next-text":"Вперед","container-class":"pagination"},null,8,["page-count","click-handler"])],2)])])],64)}s(7658);var ee=s(2435),te=s(6833),se=s(8310),ae=s(1352),re=s(7882),ie=s(6270),ne=s(4501),le={name:"ConstructorsView",data:()=>({loading:!0,selectDocument:!0,contentDocuments:[],headerDocuments:["№ шаблона","Наименование документа","Описание","Статус","Дата создания",""],noDocuments:"По вашему запросу шаблонов документов нет",contentReports:[],headerReports:["№ шаблона","Наименование отчета","Описание","Статус","Дата создания",""],noReports:"По вашему запросу шаблонов отчетов нет",message:"",showFilter:!1,parameter:"",currentDocumentPage:1,currentReportPage:1,sortField:"id",sortDir:"desc",isState:"",documentTypeName:"",reportTypeName:"",isActive:"",countReportStructures:0,countReportPage:0,countDocumentStructures:0,countDocumentPage:0,minValueDatePole:"",maxValueDatePole:"",resetKey:1,documentKey:1,reportKey:1,documentTypeList:[],reportTypeList:[]}),async mounted(){ie.Z[this.$route.query.message]&&this.$message(ie.Z[this.$route.query.message]),await re.Z.getAllDocumentTypes().then((e=>{this.documentTypeList=[];for(let t of e.data)this.documentTypeList.push(t.name)}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(ie.Z[this.message]||"Что-то пошло не так")})),await ae.Z.getAllReportTypes().then((e=>{this.reportTypeList=[];for(let t of e.data)this.reportTypeList.push(t.name)}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(ie.Z[this.message]||"Что-то пошло не так")})),setTimeout((()=>{this.documentKey+=1,this.reportKey+=1,this.refresh(),this.loading=!1}),10)},methods:{replaceMode(){this.selectDocument=!this.selectDocument,setTimeout((()=>{this.refresh()}),10)},async refresh(){this.loading=!0,this.sortField=document.querySelector(".search-field li.selected").innerText,"Выберите параметр сортировки"===this.sortField||"Номер документа"===this.sortField||"Номер отчета"===this.sortField?this.sortField="id":"Наименование"===this.sortField?this.sortField="name":"Статус"===this.sortField&&(this.sortField="isActive"),this.sortDir=document.querySelector(".search-dir li.selected").innerText,"По убыванию"===this.sortDir?this.sortDir="desc":this.sortDir="asc",this.isActive=document.querySelector(".search-status li.selected").innerText,"Активный"===this.isActive?this.isActive=!0:"Деактивированный"===this.isActive?this.isActive=!1:this.isActive="",this.selectDocument?(this.contentDocuments=[],this.documentTypeName=document.querySelector(".search-type-document li.selected").innerText,"Выберите тип документа"===this.documentTypeName&&(this.documentTypeName=""),await re.Z.getAdminDocumentStructures(this.parameter,this.currentDocumentPage,this.sortField,this.sortDir,this.isActive,this.minValueDatePole,this.maxValueDatePole,this.documentTypeName).then((e=>{this.contentDocuments=[],this.countDocumentStructures=e.data.totalItems,this.countDocumentPage=e.data.totalPages;for(const t of e.data.documentStructureList)this.contentDocuments.push([{type:"id",text:t.id},{type:t.name.length<=20?"onlyText":"text",text:t.name,shortTest:t.name.length<=20?t.name:t.name.substr(0,20)+"..."},{type:t.description.length<=30?"onlyText":"text",text:t.description,shortTest:t.description.length<=30?t.description:t.description.substr(0,30)+"..."},{type:"status",text:t.isActive?"Активный":"Деактивированный"},{type:"date",text:t.dateCreate},{type:"linkP",text:"Подробнее",link:"/constructors/document/create?documnetStructure="+t.id}])}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(ie.Z[this.message]||"Что-то пошло не так")}))):(this.contentReports=[],this.reportTypeName=document.querySelector(".search-type-report li.selected").innerText,"Выберите тип отчета"===this.reportTypeName&&(this.reportTypeName=""),await ae.Z.getAllReportStructures(this.parameter,this.currentDocumentPage,this.sortField,this.sortDir,this.isActive,this.minValueDatePole,this.maxValueDatePole,this.reportTypeName).then((e=>{this.contentReports=[],this.countReportStructures=e.data.totalItems,this.countReportPage=e.data.totalPages;for(const t of e.data.reportStructureList)this.contentReports.push([{type:"id",text:t.id},{type:t.name.length<=20?"onlyText":"text",text:t.name,shortTest:t.name.length<=20?t.name:t.name.substr(0,20)+"..."},{type:t.description.length<=30?"onlyText":"text",text:t.description,shortTest:t.description.length<=30?t.description:t.description.substr(0,30)+"..."},{type:"status",text:t.isActive?"Активный":"Деактивированный"},{type:"date",text:t.dateCreate},{type:"linkP",text:"Подробнее",link:"/constructors/report/create?reportStructure="+t.id}])}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(ie.Z[this.message]||"Что-то пошло не так")}))),this.loading=!1},create(){this.selectDocument?this.$router.push("/constructors/document/create"):this.$router.push("/constructors/report/create")},pageDocumentChangeHandler:async function(e){this.currentDocumentPage!==e&&(this.currentDocumentPage=e,await this.refresh())},pageReportChangeHandler:async function(e){this.currentReportPage!==e&&(this.currentReportPage=e,await this.refresh())}},computed:{currentUser(){return this.$store.state.auth.user},style(){return`height: ${this.showFilter?this.$refs.filter.scrollHeight+20:0}px; padding: ${this.showFilter?"1.25rem":"0px"}; border-width: ${this.showFilter?"1px":"0px"}; opacity: ${this.showFilter?1:0}; overflow: ${this.showFilter?"visible":"hidden"}; margin-bottom: ${this.showFilter?1.25:0}rem;`}},components:{Sidebar:ee.Z,MainTable:te.Z,SelectVue:se.Z,Paginate:ne.Z}},oe=s(89);const de=(0,oe.Z)(le,[["render",X]]);var ue=de}}]);
//# sourceMappingURL=755.7e7455fe.js.map