"use strict";(self["webpackChunkyggdrasil_client"]=self["webpackChunkyggdrasil_client"]||[]).push([[887],{7882:function(e,t,s){var l=s(4161),i=s(2479);const a="http://localhost/api/v1/documents/";class o{getDocument(e){return l.Z.get(a+`${e}`,{headers:(0,i.Z)()})}getDocuments(e,t,s,o,r,n,d,u,c){let h=JSON.stringify({typeSearch:e,parameter:t,currentPage:s,sortField:o,sortDir:r,statusName:n,minDate:d,maxDate:u,documentType:c}),m={method:"post",maxBodyLength:1/0,url:a+"all",headers:(0,i.Z)(),data:h};return l.Z.request(m)}getDocumentStructures(){return l.Z.get(a+"structures/short",{headers:(0,i.Z)()})}getDocumentStructure(e){return l.Z.get(a+`structures/${e}`,{headers:(0,i.Z)()})}createDocument(e,t,s,o){let r=JSON.stringify({documentData:JSON.stringify(o),documentStatusId:Number(s),documentStructureId:Number(t),username:e}),n={method:"post",maxBodyLength:1/0,url:a+"create",headers:(0,i.Z)(),data:r};return l.Z.request(n)}deleteDocument(e){return l.Z["delete"](a+"delete/"+e,{headers:(0,i.Z)()})}updateDocumentStatus(e,t){let s=JSON.stringify({documentStatusId:JSON.stringify(t)}),o={method:"post",maxBodyLength:1/0,url:a+`${e}/status/update`,headers:(0,i.Z)(),data:s};return l.Z.request(o)}updateDocumentData(e,t){let s=JSON.stringify({documentData:JSON.stringify(t)}),o={method:"post",maxBodyLength:1/0,url:a+`${e}/data/update`,headers:(0,i.Z)(),data:s};return l.Z.request(o)}getUserStatistics(e,t,s){let o=JSON.stringify({minDate:t,maxDate:s}),r={method:"post",maxBodyLength:1/0,url:a+`statistic/user/${e}`,headers:(0,i.Z)(),data:o};return l.Z.request(r)}getDepartmentStatistics(e,t,s){let o=JSON.stringify({minDate:t,maxDate:s}),r={method:"post",maxBodyLength:1/0,url:a+`statistic/department/${e}`,headers:(0,i.Z)(),data:o};return l.Z.request(r)}getFacultayStatistics(e,t,s){let o=JSON.stringify({minDate:t,maxDate:s}),r={method:"post",maxBodyLength:1/0,url:a+`statistic/faculty/${e}`,headers:(0,i.Z)(),data:o};return l.Z.request(r)}getAllStatistics(e,t){let s=JSON.stringify({minDate:e,maxDate:t}),o={method:"post",maxBodyLength:1/0,url:a+"statistic/all",headers:(0,i.Z)(),data:s};return l.Z.request(o)}getAllDocumentTypes(){return l.Z.get(a+"types/all",{headers:(0,i.Z)()})}checkDocumentTypeName(e){let t=JSON.stringify({name:e}),s={method:"post",maxBodyLength:1/0,url:a+"types/check",headers:(0,i.Z)(),data:t};return l.Z.request(s)}createDocumentType(e){let t=JSON.stringify({name:e}),s={method:"post",maxBodyLength:1/0,url:a+"types/create",headers:(0,i.Z)(),data:t};return l.Z.request(s)}getAdminDocumentStructures(e,t,s,o,r,n,d,u){let c=JSON.stringify({parameter:e,currentPage:t,sortField:s,sortDir:o,isActive:r,minDate:n,maxDate:d,documentTypeName:u}),h={method:"post",maxBodyLength:1/0,url:a+"structures/short/admin",headers:(0,i.Z)(),data:c};return l.Z.request(h)}createDocumentStructure(e,t,s,o,r){let n=JSON.stringify({id:e,name:t,description:s,documentTypeId:o,structureData:JSON.stringify(r)}),d={method:"post",maxBodyLength:1/0,url:a+"structures/create",headers:(0,i.Z)(),data:n};return l.Z.request(d)}updateDocumentStructure(e,t,s,o,r){let n=JSON.stringify({id:e,name:t,description:s,documentTypeId:o,structureData:JSON.stringify(r)}),d={method:"post",maxBodyLength:1/0,url:a+"structures/update",headers:(0,i.Z)(),data:n};return l.Z.request(d)}updateStatusDocumentStructure(e,t){let s=JSON.stringify({id:e,isActive:Boolean(t)}),o={method:"post",maxBodyLength:1/0,url:a+"structures/status/update",headers:(0,i.Z)(),data:s};return l.Z.request(o)}checkDocumentStructure(e){return l.Z.get(a+`structures/${e}/check`,{headers:(0,i.Z)()})}updateStatusDocumentsByStructureId(e){let t=JSON.stringify({id:e}),s={method:"post",maxBodyLength:1/0,url:a+"status/update/remake",headers:(0,i.Z)(),data:t};return l.Z.request(s)}getNewDocumentStructures(e){let t=JSON.stringify({oldDocumentStructureId:e}),s={method:"post",maxBodyLength:1/0,url:a+"structures/new/all",headers:(0,i.Z)(),data:t};return l.Z.request(s)}getAllFacultyDocuments(e,t,s,o){let r=JSON.stringify({documentStructureId:e,facultyId:t,minDate:s,maxDate:o}),n={method:"post",maxBodyLength:1/0,url:a+"faculty/all",headers:(0,i.Z)(),data:r};return l.Z.request(n)}getAllDepartmentDocuments(e,t,s,o){let r=JSON.stringify({documentStructureId:e,departmentId:t,minDate:s,maxDate:o}),n={method:"post",maxBodyLength:1/0,url:a+"department/all",headers:(0,i.Z)(),data:r};return l.Z.request(n)}archivingDocuments(e,t,s,o){let r=JSON.stringify({documentStructureId:e,documentStatusId:t,minDate:s,maxDate:o}),n={method:"post",maxBodyLength:1/0,url:a+"archiving",headers:(0,i.Z)(),data:r};return l.Z.request(n)}documentExportToExcel(e,t,s,o,r){let n=JSON.stringify({documentStructures:e,facultyId:t,departmentId:s,minDate:o,maxDate:r}),d={method:"post",maxBodyLength:1/0,url:a+"export",headers:(0,i.Z)(),responseType:"blob",data:n};return l.Z.request(d)}documentCombinedExportToExcel(e,t,s,o,r){let n=JSON.stringify({documentStructures:e,facultyList:t,departmentList:s,minDate:o,maxDate:r}),d={method:"post",maxBodyLength:1/0,url:a+"combined/export",headers:(0,i.Z)(),responseType:"blob",data:n};return l.Z.request(d)}updateDocumentType(e,t){let s=JSON.stringify({documentTypeName:t}),o={method:"post",maxBodyLength:1/0,url:a+"types/update/"+e,headers:(0,i.Z)(),data:s};return l.Z.request(o)}}t["Z"]=new o},8310:function(e,t,s){s.d(t,{Z:function(){return C}});var l=s(3396),i=s(7139);const a={class:"input-field col s12 selectSingle w-full"},o=["multiple","disabled"],r=["selected"],n=["value","selected"],d=["multiple","disabled"],u=["selected"],c=["value","selected"],h=["multiple","disabled"],m=["selected"],p=["value","selected"],y=["multiple","disabled"],g=["selected"],v=["value","selected"],x={class:"opacity-0"},w=["multiple","disabled"],k=["selected"],f=["value","selected"],S={class:"opacity-0"};function b(e,t,s,b,P,D){return(0,l.wg)(),(0,l.iD)("div",a,["filter"===this.type?((0,l.wg)(),(0,l.iD)("select",{key:0,multiple:this.multy,disabled:this.disabled},[(0,l._)("option",{value:"",selected:this.selected},(0,i.zw)(s.message),9,r),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.content,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e,selected:e===this.equalId},(0,i.zw)(e),9,n)))),128))],8,o)):Array.isArray(this.equalId)||0===this.content.length||"object"===typeof this.content[0]?Array.isArray(this.equalId)&&0!==this.content.length&&"object"!==typeof this.content[0]?((0,l.wg)(),(0,l.iD)("select",{key:2,multiple:this.multy,disabled:this.disabled},[(0,l._)("option",{value:"",disabled:"",selected:this.selected},(0,i.zw)(s.message),9,m),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.content,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e,selected:this.isSelect(this.equalId,e)},(0,i.zw)(e),9,p)))),128))],8,h)):Array.isArray(this.equalId)?((0,l.wg)(),(0,l.iD)("select",{key:4,multiple:this.multy,disabled:this.disabled},[(0,l._)("option",{value:"",disabled:"",selected:this.selected},(0,i.zw)(s.message),9,k),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.content,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id,selected:this.isSelect(this.equalId,e.id)},[(0,l.Uk)((0,i.zw)(e.name)+" ",1),(0,l._)("span",S,"("+(0,i.zw)(e.id)+")",1)],8,f)))),128))],8,w)):((0,l.wg)(),(0,l.iD)("select",{key:3,multiple:this.multy,disabled:this.disabled},[(0,l._)("option",{value:"",disabled:"",selected:this.selected},(0,i.zw)(s.message),9,g),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.content,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id,selected:e.id===this.equalId},[(0,l.Uk)((0,i.zw)(e.name)+" ",1),(0,l._)("span",x,"("+(0,i.zw)(e.id)+")",1)],8,v)))),128))],8,y)):((0,l.wg)(),(0,l.iD)("select",{key:1,multiple:this.multy,disabled:this.disabled},[(0,l._)("option",{value:"",disabled:"",selected:this.selected},(0,i.zw)(s.message),9,u),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.content,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e,value:e,selected:e===this.equalId},(0,i.zw)(e),9,c)))),128))],8,d))])}s(7658);var P={name:"selectComponent",props:["selected","message","content","multy","disabled","equalId","type"],data:()=>({select:null}),mounted(){setTimeout((()=>{this.select=M.FormSelect.init(document.querySelectorAll("select"),{})}),0)},methods:{isSelect(e,t){let s=[];for(let l of e)s.push(Number(l));return s.includes(t)}},computed:{currentUser(){return this.$store.state.auth.user}},beforeDestroy(){this.select&&this.select.destroy&&this.select.destroy()}},D=s(89);const _=(0,D.Z)(P,[["render",b]]);var C=_},2435:function(e,t,s){s.d(t,{Z:function(){return c}});var l=s(3396),i=s(7139);const a={class:"shadow-md rounded-xl overflow-hidden border"};function o(e,t,s,o,r,n){const d=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("ul",a,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.links,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.url},[e.roles.includes(this.currentUser.roles[0])?((0,l.wg)(),(0,l.j4)(d,{key:0,"active-class":"active",to:e.url,class:"hover:bg-gray-200 pl-5 py-2 block select-none"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["to"])):(0,l.kq)("",!0)])))),128))])}var r=s(8806),n={data:()=>({links:[{title:"Документы",url:"/documents",roles:[r.v.User,r.v.Admin,r.v.Moderator]},{title:"Отчеты",url:"/reports",roles:[r.v.Admin,r.v.Moderator]},{title:"Факультеты",url:"/facultets",roles:[r.v.SuperAdmin]},{title:"Кафедры",url:"/departments",roles:[r.v.SuperAdmin]},{title:"Сотрудники",url:"/employees",roles:[r.v.SuperAdmin,r.v.Moderator]},{title:"Студенты",url:"/students",roles:[r.v.User,r.v.SuperAdmin,r.v.Moderator]},{title:"Конструктор шаблонов",url:"/constructors",roles:[r.v.SuperAdmin]},{title:"Статистика",url:"/statistics",roles:[r.v.User,r.v.Admin,r.v.Moderator]},{title:"Разное",url:"/different",roles:[r.v.SuperAdmin]}]}),computed:{currentUser(){return this.$store.state.auth.user}}},d=s(89);const u=(0,d.Z)(n,[["render",o]]);var c=u},9887:function(e,t,s){s.r(t),s.d(t,{default:function(){return Pl}});var l=s(3396),i=s(7139),a=s(9242);const o={key:0,class:"chapter-name text-3xl mb-6"},r={key:1,class:"chapter-name text-3xl mb-6"},n={class:"flex gap-x-5 flex-grow"},d={class:"w-full flex flex-col mb-6"},u={class:"menu-top mb-6 flex justify-between"},c=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),h={class:"flex justify-between gap-5"},m=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 7.5l-2.25-1.313M21 7.5v2.25m0-2.25l-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3l2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75l2.25-1.313M12 21.75V19.5m0 2.25l-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"})],-1),p=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})],-1),y=["disabled"],g=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})],-1),v=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"}),(0,l._)("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"})],-1),x=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1),w=["disabled"],k=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})],-1),f={id:"myModel",class:"modal modal-fixed-footer",ref:"modal"},S=(0,l.uE)('<div class="modal-content flex flex-col"><div class="modal-img inline-block p-10 rounded-full border-[8px] border-solid border-red-700 text-red-700 mx-auto mb-5 font-bold"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-[8rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg></div><div class="worn-text text-3xl text-red-700 mb-20 text-center">Внимание!</div><p class="text-2xl mb-3 text-center">При уходе с этой страницы данные будет потеряны.</p></div>',1),b={class:"modal-footer flex justify-evenly"},P=(0,l._)("a",{href:"#",class:"modal-close main-btn-invers inline-block rounded-lg px-5 py-3 w-[150px] text-center text-xl"},"Остаться",-1),D={id:"updateStatusModel",class:"modal modal-fixed-footer",ref:"updateStatusModel"},_=(0,l.uE)('<div class="modal-content flex flex-col"><div class="modal-img inline-block p-10 rounded-full border-[8px] border-solid border-red-700 text-red-700 mx-auto mb-5 font-bold"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-[8rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg></div><div class="worn-text text-3xl text-red-700 mb-20 text-center">Внимание!</div><p class="text-2xl mb-10 text-left">При деактивации шаблона, все документы на его основе будут заблокированы для редактирования.</p><p class="text-2xl mb-3 text-center">Применить изменения?</p></div>',1),C={class:"modal-footer flex justify-evenly"},V=(0,l._)("a",{href:"#",class:"modal-close main-btn-invers inline-block rounded-lg px-5 py-3 w-[150px] text-center text-xl"},"Нет",-1),L={id:"updateStructureModel",class:"modal modal-fixed-footer",ref:"updateStructureModel"},q=(0,l.uE)('<div class="modal-content flex flex-col"><div class="modal-img inline-block p-10 rounded-full border-[8px] border-solid border-red-700 text-red-700 mx-auto mb-5 font-bold"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-[8rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg></div><div class="worn-text text-3xl text-red-700 mb-20 text-center">Внимание!</div><p class="text-xl mb-5 text-left">Так как вы убрали или добавили новые поля (даже если вы удалили старое поле и заново создали его или добавили новое поле и убрали его), статусы всех документы (которые созданы на основе этого шаблона), чей статус является &quot;Готов&quot; будут переведены в статус &quot;Переделать&quot;.</p><p class="text-xl mb-10 text-left">Если на основе данного шаблона есть документы в статусе &quot;Архив&quot;, то данный шаблон будет деактивирован, а на его основе будет создан обновленный шаблон и все документы, кроме архивных будут переведены на новый шаблон и их статус будет изменен на &quot;Переделать&quot;.</p><p class="text-2xl mb-3 text-center">Применить изменения?</p></div>',1),z={class:"modal-footer flex justify-evenly"},Z=(0,l._)("a",{href:"#",class:"modal-close main-btn-invers inline-block rounded-lg px-5 py-3 w-[150px] text-center text-xl"},"Отмена",-1),$={id:"createTypeModel",class:"modal modal-fixed-footer",ref:"typeCreateModel"},A={class:"modal-content flex flex-col"},I={class:"profile-data-input mb-3"},N=(0,l._)("label",{for:"",class:"relative required"},"Название типа документа:",-1),U={class:"flex gap-3"},j={class:"w-full"},B={class:"helper-text"},R={key:0,class:"self-center"},H={key:0,class:"",title:"Название свободено."},T=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 text-green-600"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-2.625 6c-.54 0-.828.419-.936.634a1.96 1.96 0 00-.189.866c0 .298.059.605.189.866.108.215.395.634.936.634.54 0 .828-.419.936-.634.13-.26.189-.568.189-.866 0-.298-.059-.605-.189-.866-.108-.215-.395-.634-.936-.634zm4.314.634c.108-.215.395-.634.936-.634.54 0 .828.419.936.634.13.26.189.568.189.866 0 .298-.059.605-.189.866-.108.215-.395.634-.936.634-.54 0-.828-.419-.936-.634a1.96 1.96 0 01-.189-.866c0-.298.059-.605.189-.866zm2.023 6.828a.75.75 0 10-1.06-1.06 3.75 3.75 0 01-5.304 0 .75.75 0 00-1.06 1.06 5.25 5.25 0 007.424 0z","clip-rule":"evenodd"})],-1),O=[T],W={key:1,class:"",title:"Тип документа с таким названием уже существует!"},J=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 text-red-700"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-2.625 6c-.54 0-.828.419-.936.634a1.96 1.96 0 00-.189.866c0 .298.059.605.189.866.108.215.395.634.936.634.54 0 .828-.419.936-.634.13-.26.189-.568.189-.866 0-.298-.059-.605-.189-.866-.108-.215-.395-.634-.936-.634zm4.314.634c.108-.215.395-.634.936-.634.54 0 .828.419.936.634.13.26.189.568.189.866 0 .298-.059.605-.189.866-.108.215-.395.634-.936.634-.54 0-.828-.419-.936-.634a1.96 1.96 0 01-.189-.866c0-.298.059-.605.189-.866zm-4.34 7.964a.75.75 0 01-1.061-1.06 5.236 5.236 0 013.73-1.538 5.236 5.236 0 013.695 1.538.75.75 0 11-1.061 1.06 3.736 3.736 0 00-2.639-1.098 3.736 3.736 0 00-2.664 1.098z","clip-rule":"evenodd"})],-1),E=[J],Y={class:"modal-footer flex justify-evenly"},K=(0,l._)("a",{href:"#",class:"modal-close main-btn-invers inline-block rounded-lg px-5 py-3 w-[150px] text-center text-xl"},"Отменить",-1),F=["disabled"],X={class:"modal-content flex flex-col"},G={key:0,class:"modelCreateStructure-title text-2xl font-bold mb-3"},Q={key:1,class:"modelCreateStructure-title text-2xl font-bold mb-3"},ee={class:"type-pole mb-6"},te={key:0,class:"type-pole-select flex"},se=(0,l._)("svg",{fill:"#000000",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",class:"w-8 h-6 mr-2"},[(0,l._)("path",{d:"M16,6a1,1,0,0,0-1-1H3A1,1,0,0,0,3,7H8V18a1,1,0,0,0,2,0V7h5A1,1,0,0,0,16,6Zm5,5H15a1,1,0,0,0,0,2h2v5a1,1,0,0,0,2,0V13h2a1,1,0,0,0,0-2Z"})],-1),le={key:1,class:"type-pole-select flex"},ie=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 14.25l6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0c1.1.128 1.907 1.077 1.907 2.185zM9.75 9h.008v.008H9.75V9zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm4.125 4.5h.008v.008h-.008V13.5zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1),ae={key:2,class:"type-pole-select flex"},oe=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})],-1),re={key:3,class:"type-pole-select flex"},ne=(0,l._)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 mr-2"},[(0,l._)("g",null,[(0,l._)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,l._)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-3a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"})])],-1),de={key:4,class:"type-pole-select flex"},ue=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"w-6 h-6 mr-2"},[(0,l._)("title",null,"ionicons-v5-l"),(0,l._)("polyline",{points:"352 176 217.6 336 160 272",style:{fill:"none",stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"}}),(0,l._)("rect",{x:"64",y:"64",width:"384",height:"384",rx:"48",ry:"48",style:{fill:"none",stroke:"#000","stroke-linejoin":"round","stroke-width":"32px"}})],-1),ce={key:5,class:"type-pole-select flex"},he=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})],-1),me={key:6,class:"type-pole-select flex"},pe=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})],-1),ye={key:7,class:"type-pole-select flex"},ge=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})],-1),ve={class:"profile-data-input mb-3"},xe=(0,l._)("label",{for:"",class:"relative required"},"Наименование поля:",-1),we=["disabled"],ke={class:"profile-data-input mb-3"},fe=(0,l._)("label",{for:"",class:""},"Описание поля:",-1),Se=["disabled"],be={key:2,class:"profile-data-input mb-3"},Pe=(0,l._)("label",{for:"",class:"relative required"},"Текст внутри поля (placeholder):",-1),De=["disabled"],Me={class:"profile-data-input p-2"},_e={class:"inline-flex self-center"},Ce=["disabled"],Ve=(0,l._)("span",null,"Обязательное поле",-1),Le=(0,l._)("div",{class:"menu-ling w-full h-1 rounded-lg bg-gray-300 block my-5"},null,-1),qe={class:""},ze={key:0,class:"profile-data-input p-2"},Ze={class:"inline-flex self-center"},$e=["disabled"],Ae=(0,l._)("span",null,"Множественный выбор",-1),Ie={key:1,class:"profile-data-input mb-3"},Ne={class:"flex justify-end mb-5"},Ue=["disabled"],je=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"})],-1),Be={key:0,class:"mes text-gray-400 text-center select-none"},Re={class:"w-[10%] self-center"},He=["onUpdate:modelValue","disabled"],Te=["onClick","disabled"],Oe=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),We=[Oe],Je={key:2,class:"profile-data-input mb-3"},Ee={class:"flex justify-end mb-5"},Ye=["disabled"],Ke=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"})],-1),Fe={key:0,class:"mes text-gray-400 text-center select-none"},Xe={class:"w-[10%] self-center"},Ge=["onUpdate:modelValue","disabled"],Qe=["onClick","disabled"],et=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),tt=[et],st={key:3,class:"profile-data-input mb-3"},lt={class:"flex justify-end mb-5"},it=["disabled"],at=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"})],-1),ot={key:0,class:"mes text-gray-400 text-center select-none"},rt={class:"w-[10%] self-center"},nt=["onUpdate:modelValue","disabled"],dt=["onClick","disabled"],ut=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),ct=[ut],ht={key:4,class:"profile-data-input mb-3"},mt=(0,l._)("label",{for:"",class:""},"Минимальная длина строки:",-1),pt=["disabled"],yt={key:5,class:"profile-data-input mb-3"},gt=(0,l._)("label",{for:"",class:""},"Максимальная длина строки:",-1),vt=["disabled"],xt={key:6,class:"profile-data-input mb-3"},wt=(0,l._)("label",{for:"",class:""},"Минимальное значение:",-1),kt=["disabled"],ft={key:7,class:"profile-data-input mb-3"},St=(0,l._)("label",{for:"",class:""},"Максильное значение:",-1),bt=["disabled"],Pt={key:8,class:"profile-data-input mb-3"},Dt=(0,l._)("label",{for:"",class:""},"Значение по умолчанию:",-1),Mt=["disabled"],_t={key:9,class:"status-data-menu-date flex gap-5"},Ct=(0,l._)("div",{class:"whitespace-nowrap self-end text-lg"},"Период дат с",-1),Vt=["max","disabled"],Lt=(0,l._)("div",{class:"whitespace-nowrap self-end text-lg"},"по",-1),qt=["min","disabled"],zt=(0,l._)("div",{class:"menu-ling w-full h-1 rounded-lg bg-gray-300 block my-5"},null,-1),Zt={class:"bottom-menu mb-3"},$t=(0,l._)("div",{class:"bottom-menu-title text-xl mb-1"},"Условие появления:",-1),At={class:"flex justify-between items-center gap-5"},It=(0,l._)("span",{class:"text-2xl font-bold select-none"},"=",-1),Nt={class:"profile-data-input w-5/12"},Ut=["disabled"],jt={class:"modal-footer flex justify-evenly relative z-10"},Bt=(0,l._)("a",{href:"#",class:"modal-close main-btn-invers inline-block rounded-lg px-5 py-3 w-[150px] text-center text-xl"},"Отмена",-1),Rt=["disabled"],Ht=["disabled"],Tt={class:"flex gap-5"},Ot={class:"object-panel w-1/5"},Wt=(0,l._)("div",{class:"object-panel-title text-2xl mb-3"}," Создание полей: ",-1),Jt={class:"object-panel-list"},Et={class:"object-panel-item"},Yt=(0,l._)("svg",{fill:"#000000",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",class:"w-8 h-6 mr-2"},[(0,l._)("path",{d:"M16,6a1,1,0,0,0-1-1H3A1,1,0,0,0,3,7H8V18a1,1,0,0,0,2,0V7h5A1,1,0,0,0,16,6Zm5,5H15a1,1,0,0,0,0,2h2v5a1,1,0,0,0,2,0V13h2a1,1,0,0,0,0-2Z"})],-1),Kt=(0,l._)("button",{class:"flex items-center"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 14.25l6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0c1.1.128 1.907 1.077 1.907 2.185zM9.75 9h.008v.008H9.75V9zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm4.125 4.5h.008v.008h-.008V13.5zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})]),(0,l.Uk)(" Числовое поле ")],-1),Ft=[Kt],Xt={class:"object-panel-item"},Gt=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})],-1),Qt={class:"object-panel-item"},es=(0,l._)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 mr-2"},[(0,l._)("g",null,[(0,l._)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,l._)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-3a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"})])],-1),ts={class:"object-panel-item"},ss=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"w-6 h-6 mr-2"},[(0,l._)("title",null,"ionicons-v5-l"),(0,l._)("polyline",{points:"352 176 217.6 336 160 272",style:{fill:"none",stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"}}),(0,l._)("rect",{x:"64",y:"64",width:"384",height:"384",rx:"48",ry:"48",style:{fill:"none",stroke:"#000","stroke-linejoin":"round","stroke-width":"32px"}})],-1),ls=(0,l._)("button",{class:"flex items-center"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})]),(0,l.Uk)(" Дата ")],-1),is=[ls],as={class:"object-panel-item"},os=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})],-1),rs={class:"object-panel-item"},ns=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})],-1),ds={class:"structure-vue w-4/5 shadow-md rounded-xl border p-4"},us={key:0,class:""},cs={class:"mb-3"},hs={class:"active"},ms={key:0,class:"text-green-600"},ps={key:1,class:"disables text-yellow-600"},ys={class:"date-block flex justify-end mb-3"},gs={class:"date-body"},vs={class:"date-create"},xs={class:"date-create"},ws={key:0,class:"old-document-structure mb-3"},ks=(0,l._)("div",{class:"old-document-structure-title"},"Шаблон основан на:",-1),fs={key:1,class:"list-new-documnet-structure mb-3 flex gap-3"},Ss=(0,l._)("div",{class:"list-new-documnet-structure-title w-1/5"},"Шаблоны основанные на этом шаблоне:",-1),bs={class:"newDocumentStructuresList flex flex-wrap gap-2 w-4/5"},Ps={class:"structure-top-header mb-8"},Ds={class:"profile-data-input flex-grow mb-3"},Ms=(0,l._)("label",{for:"",class:"relative required"},"Название шаблона:",-1),_s=["disabled"],Cs={class:"helper-text"},Vs={class:"profile-data-input flex-grow mb-3"},Ls=(0,l._)("label",{for:"",class:""},"Описание шаблона:",-1),qs=["disabled"],zs={class:"helper-text"},Zs={class:"profile-data-input flex-grow mb-3"},$s=(0,l._)("label",{for:"",class:"relative required"},"Тип документа:",-1),As={class:"flex gap-3"},Is={class:"input-field col s12 selectSingle w-full document-type-select"},Ns=["disabled"],Us=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),js=(0,l._)("div",{class:"structure-vue-title text-xl mb-6"},"Структура шаблона:",-1),Bs={key:1,class:"structure-vue-body"},Rs={class:"structure-vue-body-list"},Hs=["onClick"],Ts={class:"structure-item-left"},Os=["onClick"],Ws=["onClick"],Js=(0,l._)("svg",{fill:"#000000",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",class:"w-8 h-6 mr-2"},[(0,l._)("path",{d:"M16,6a1,1,0,0,0-1-1H3A1,1,0,0,0,3,7H8V18a1,1,0,0,0,2,0V7h5A1,1,0,0,0,16,6Zm5,5H15a1,1,0,0,0,0,2h2v5a1,1,0,0,0,2,0V13h2a1,1,0,0,0,0-2Z"})],-1),Es=["onClick"],Ys=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 14.25l6-6m4.5-3.493V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0c1.1.128 1.907 1.077 1.907 2.185zM9.75 9h.008v.008H9.75V9zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm4.125 4.5h.008v.008h-.008V13.5zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1),Ks=["onClick"],Fs=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})],-1),Xs=["onClick"],Gs=(0,l._)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 mr-2"},[(0,l._)("g",null,[(0,l._)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,l._)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-3a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"})])],-1),Qs=["onClick"],el=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"w-6 h-6 mr-2"},[(0,l._)("title",null,"ionicons-v5-l"),(0,l._)("polyline",{points:"352 176 217.6 336 160 272",style:{fill:"none",stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"}}),(0,l._)("rect",{x:"64",y:"64",width:"384",height:"384",rx:"48",ry:"48",style:{fill:"none",stroke:"#000","stroke-linejoin":"round","stroke-width":"32px"}})],-1),tl=["onClick"],sl=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})],-1),ll=["onClick"],il=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})],-1),al=["onClick"],ol=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})],-1),rl={class:"structure-item-right"},nl=["onClick","disabled"],dl=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),ul=[dl],cl={key:2,class:"no-pole-mes text-gray-400 text-center select-none py-6"};function hl(e,t,s,M,T,J){const Oe=(0,l.up)("SelectVue"),et=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[this.createMode?((0,l.wg)(),(0,l.iD)("div",o," Конструктор шаблона — Документы ")):((0,l.wg)(),(0,l.iD)("div",r," Просмотр шаблона документов — №"+(0,i.zw)(this.$route.query.documnetStructure),1)),(0,l._)("div",n,[(0,l._)("div",d,[(0,l._)("div",u,[(0,l._)("button",{class:"main-btn py-3 px-5 inline-flex",onClick:t[0]||(t[0]=(0,a.iM)(((...e)=>J.leavingPage&&J.leavingPage(...e)),["prevent"]))},[c,(0,l.Uk)(" Вернуться ")]),(0,l._)("div",h,[this.createMode||this.updateMode||!this.documnetStructureActive?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,class:"main-btn-yellow px-5 py-3 text-lg flex items-center gap-1",onClick:t[1]||(t[1]=(0,a.iM)(((...e)=>J.updateDocumentStatus&&J.updateDocumentStatus(...e)),["prevent"]))},[m,(0,l.Uk)(" Деактивировать ")])),this.createMode||this.updateMode||this.documnetStructureActive?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"main-btn px-5 py-3 text-lg flex items-center gap-1",onClick:t[2]||(t[2]=(0,a.iM)(((...e)=>J.revActivationDocumentStructure&&J.revActivationDocumentStructure(...e)),["prevent"]))},[p,(0,l.Uk)(" Активировать ")])),this.createMode?((0,l.wg)(),(0,l.iD)("button",{key:2,class:"main-btn py-3 px-5 inline-flex",onClick:t[3]||(t[3]=(0,a.iM)(((...e)=>J.createNewDocumentStructure&&J.createNewDocumentStructure(...e)),["prevent"])),disabled:0===this.structureLits.length||""===this.nameStructure||0===this.typesDocuments.length},[g,(0,l.Uk)(" Опубликовать ")],8,y)):(0,l.kq)("",!0),this.canWritePoles||this.updateMode?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:3,class:"main-btn py-3 px-5 inline-flex",onClick:t[4]||(t[4]=(0,a.iM)(((...e)=>J.onUpdateMode&&J.onUpdateMode(...e)),["prevent"]))},[v,(0,l.Uk)(" Изменить ")])),this.updateMode?((0,l.wg)(),(0,l.iD)("button",{key:4,class:"main-btn-red py-3 px-5 flex items-center gap-1",onClick:t[5]||(t[5]=(0,a.iM)(((...e)=>J.rajectChangesStructure&&J.rajectChangesStructure(...e)),["prevent"]))},[x,(0,l.Uk)(" Отменить ")])):(0,l.kq)("",!0),this.updateMode?((0,l.wg)(),(0,l.iD)("button",{key:5,class:"main-btn py-3 px-5 flex items-center gap-1",onClick:t[6]||(t[6]=(0,a.iM)(((...e)=>J.modalupdateDocumentStructure&&J.modalupdateDocumentStructure(...e)),["prevent"])),disabled:!this.updateMode||0===this.listReadyPoles.length||""===this.nameStructure},[k,(0,l.Uk)(" Сохранить ")],8,w)):(0,l.kq)("",!0)]),(0,l._)("div",f,[S,(0,l._)("div",b,[(0,l._)("button",{onClick:t[7]||(t[7]=(0,a.iM)(((...e)=>J.back&&J.back(...e)),["prevent"])),class:"main-btn inline-block px-5 py-3 w-[150px] text-center text-xl"},"Уйти"),P])],512),(0,l._)("div",D,[_,(0,l._)("div",C,[V,(0,l._)("button",{onClick:t[8]||(t[8]=(0,a.iM)(((...e)=>J.revActivationDocumentStructure&&J.revActivationDocumentStructure(...e)),["prevent"])),class:"main-btn inline-block px-5 py-3 w-[150px] text-center text-xl"},"Да")])],512),(0,l._)("div",L,[q,(0,l._)("div",z,[Z,(0,l._)("button",{onClick:t[9]||(t[9]=(0,a.iM)(((...e)=>J.updateDocumentStructure&&J.updateDocumentStructure(...e)),["prevent"])),class:"main-btn inline-block px-5 py-3 w-[150px] text-center text-xl"},"Да")])],512),(0,l._)("div",$,[(0,l._)("div",A,[(0,l._)("div",I,[N,(0,l._)("div",U,[(0,l._)("div",j,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.typeName=t),onInput:t[11]||(t[11]=(...e)=>J.checkDocumentTypeName&&J.checkDocumentTypeName(...e)),class:(0,i.C_)([{invalid:M.v$.typeName.$errors.length},"input-text"]),minlength:"1",maxlength:"50",required:"",type:"text",name:"",id:"",placeholder:"Название типа документа",title:"Введите название типа документа"},null,34),[[a.nr,e.typeName,void 0,{trim:!0}]]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(M.v$.typeName.$errors,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"input-errors max-w-xl",key:e.$uid},[(0,l._)("div",B,(0,i.zw)("This field should be at least 1 characters long"===e.$message?"Длина этого поля должна составлять не менее 1 символа":"Value is required"===e.$message?"Значение является обязательным":e.$message),1)])))),128))]),this.typeName?((0,l.wg)(),(0,l.iD)("div",R,[this.validTypeName?((0,l.wg)(),(0,l.iD)("div",H,O)):((0,l.wg)(),(0,l.iD)("div",W,E))])):(0,l.kq)("",!0)])])]),(0,l._)("div",Y,[K,(0,l._)("button",{onClick:t[12]||(t[12]=(0,a.iM)(((...e)=>J.createDocumentType&&J.createDocumentType(...e)),["prevent"])),disabled:!this.validTypeName,class:"main-btn inline-block px-5 py-3 w-[150px] text-center text-xl"},"Сохранить",8,F)])],512),(0,l._)("form",{id:"modelCreateStructure",class:"modal modal-fixed-footer",ref:"createStructureModal",onSubmit:t[29]||(t[29]=(0,a.iM)(((...e)=>J.saveStructurePole&&J.saveStructurePole(...e)),["prevent"]))},[(0,l._)("div",X,[this.modPole?((0,l.wg)(),(0,l.iD)("div",Q," Редактирование поля ")):((0,l.wg)(),(0,l.iD)("div",G," Создание поля ")),(0,l._)("div",ee,["text"===this.typePole?((0,l.wg)(),(0,l.iD)("div",te,[se,(0,l.Uk)(" Текстовое поле ")])):(0,l.kq)("",!0),"number"===this.typePole?((0,l.wg)(),(0,l.iD)("div",le,[ie,(0,l.Uk)(" Числовое поле ")])):(0,l.kq)("",!0),"select"===this.typePole?((0,l.wg)(),(0,l.iD)("div",ae,[oe,(0,l.Uk)(" Выпадающий список ")])):(0,l.kq)("",!0),"radio"===this.typePole?((0,l.wg)(),(0,l.iD)("div",re,[ne,(0,l.Uk)(" Один вариант ")])):(0,l.kq)("",!0),"checkbox"===this.typePole?((0,l.wg)(),(0,l.iD)("div",de,[ue,(0,l.Uk)(" Несколько вариантов ")])):(0,l.kq)("",!0),"date"===this.typePole?((0,l.wg)(),(0,l.iD)("div",ce,[he,(0,l.Uk)(" Дата ")])):(0,l.kq)("",!0),"employees"===this.typePole?((0,l.wg)(),(0,l.iD)("div",me,[pe,(0,l.Uk)(" Выпадающий список сотрудников ")])):(0,l.kq)("",!0),"students"===this.typePole?((0,l.wg)(),(0,l.iD)("div",ye,[ge,(0,l.Uk)(" Выпадающий список студентов ")])):(0,l.kq)("",!0)]),(0,l._)("div",ve,[xe,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.namePole=t),minlength:"1",maxlength:"100",required:"",type:"text",name:"namePole",id:"",class:"input-text",placeholder:"Наименование поля",title:"Введите наименование поля",disabled:!this.canWritePoles},null,8,we),[[a.nr,e.namePole,void 0,{trim:!0}]])]),(0,l._)("div",ke,[fe,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[14]||(t[14]=t=>e.descriptionPole=t),minlength:"1",maxlength:"255",type:"text",name:"descriptionPole",id:"",class:"input-text",placeholder:"Описание поля",title:"Введите описание поля",disabled:!this.canWritePoles},null,8,Se),[[a.nr,e.descriptionPole,void 0,{trim:!0}]])]),"date"!==this.typePole?((0,l.wg)(),(0,l.iD)("div",be,[Pe,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[15]||(t[15]=t=>e.placeholderPole=t),minlength:"1",maxlength:"70",required:"",type:"text",name:"placeholderPole",id:"",class:"input-text",placeholder:"Текст внутри поля",title:"Введите текст внутри поля",disabled:!this.canWritePoles},null,8,De),[[a.nr,e.placeholderPole,void 0,{trim:!0}]])])):(0,l.kq)("",!0),(0,l._)("div",Me,[(0,l._)("label",_e,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>this.requiredPole=e),type:"checkbox",class:"form-checkbox-item filled-in",disabled:!this.canWritePoles},null,8,Ce),[[a.e8,this.requiredPole]]),Ve])]),Le,(0,l._)("div",qe,["select"===this.typePole||"employees"===this.typePole||"students"===this.typePole?((0,l.wg)(),(0,l.iD)("div",ze,[(0,l._)("label",Ze,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>this.multiSelectPole=e),type:"checkbox",class:"form-checkbox-item filled-in",disabled:!this.canWritePoles},null,8,$e),[[a.e8,this.multiSelectPole]]),Ae])])):(0,l.kq)("",!0),"select"===this.typePole?((0,l.wg)(),(0,l.iD)("div",Ie,[(0,l._)("div",Ne,[(0,l._)("button",{onClick:t[18]||(t[18]=(0,a.iM)(((...e)=>J.addSelectValue&&J.addSelectValue(...e)),["prevent"])),class:"main-btn inline-block px-2 py-2 text-center text-lg flex",disabled:!this.canWritePoles},[je,(0,l.Uk)(" Добавить поле ")],8,Ue)]),this.listSelects.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Be,"Поля не добавлены")),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.listSelects,((e,t)=>((0,l.wg)(),(0,l.iD)("label",{for:"",class:"flex gap-3 mb-2",key:t},[(0,l._)("span",Re,"Поле №"+(0,i.zw)(t+1)+":",1),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":e=>this.listSelects[t]=e,minlength:"0",maxlength:"100",type:"text",name:"",id:"",class:"input-text",placeholder:"Значение поля",title:"Введите значение поля",disabled:!this.canWritePoles},null,8,He),[[a.nr,this.listSelects[t],void 0,{trim:!0}]]),(0,l._)("button",{onClick:(0,a.iM)((e=>J.deleteSelectItem(t)),["prevent"]),class:"main-btn-red inline-block px-3 py-2 text-center text-lg flex",disabled:!this.canWritePoles},We,8,Te)])))),128))])):(0,l.kq)("",!0),"radio"===this.typePole?((0,l.wg)(),(0,l.iD)("div",Je,[(0,l._)("div",Ee,[(0,l._)("button",{onClick:t[19]||(t[19]=(0,a.iM)(((...e)=>J.addRadioValue&&J.addRadioValue(...e)),["prevent"])),class:"main-btn inline-block px-2 py-2 text-center text-lg flex",disabled:!this.canWritePoles},[Ke,(0,l.Uk)(" Добавить поле ")],8,Ye)]),this.listRadios.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Fe,"Поля не добавлены")),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.listRadios,((e,t)=>((0,l.wg)(),(0,l.iD)("label",{for:"",class:"flex gap-3 mb-2",key:t},[(0,l._)("span",Xe,"Поле №"+(0,i.zw)(t+1)+":",1),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":e=>this.listRadios[t]=e,minlength:"0",maxlength:"100",type:"text",name:"",id:"",class:"input-text",placeholder:"Значение поля",title:"Введите значение поля",disabled:!this.canWritePoles},null,8,Ge),[[a.nr,this.listRadios[t],void 0,{trim:!0}]]),(0,l._)("button",{onClick:(0,a.iM)((e=>J.deleteRadioItem(t)),["prevent"]),class:"main-btn-red inline-block px-3 py-2 text-center text-lg flex",disabled:!this.canWritePoles},tt,8,Qe)])))),128))])):(0,l.kq)("",!0),"checkbox"===this.typePole?((0,l.wg)(),(0,l.iD)("div",st,[(0,l._)("div",lt,[(0,l._)("button",{onClick:t[20]||(t[20]=(0,a.iM)(((...e)=>J.addCheckboxValue&&J.addCheckboxValue(...e)),["prevent"])),class:"main-btn inline-block px-2 py-2 text-center text-lg flex",disabled:!this.canWritePoles},[at,(0,l.Uk)(" Добавить поле ")],8,it)]),this.listCheckbox.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ot,"Поля не добавлены")),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.listCheckbox,((e,t)=>((0,l.wg)(),(0,l.iD)("label",{for:"",class:"flex gap-3 mb-2",key:t},[(0,l._)("span",rt,"Поле №"+(0,i.zw)(t+1)+":",1),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":e=>this.listCheckbox[t]=e,minlength:"0",maxlength:"100",type:"text",name:"",id:"",class:"input-text",placeholder:"Значение поля",title:"Введите значение поля",disabled:!this.canWritePoles},null,8,nt),[[a.nr,this.listCheckbox[t],void 0,{trim:!0}]]),(0,l._)("button",{onClick:(0,a.iM)((e=>J.deleteCheckboxItem(t)),["prevent"]),class:"main-btn-red inline-block px-3 py-2 text-center text-lg flex",disabled:!this.canWritePoles},ct,8,dt)])))),128))])):(0,l.kq)("",!0),"text"===this.typePole?((0,l.wg)(),(0,l.iD)("div",ht,[mt,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[21]||(t[21]=t=>e.minLengthPole=t),min:"0",max:"1000",disabled:!this.canWritePoles,type:"number",name:"",placeholder:"Введите минимальную длину строки",class:"input-text input-field"},null,8,pt),[[a.nr,e.minLengthPole,void 0,{trim:!0}]])])):(0,l.kq)("",!0),"text"===this.typePole?((0,l.wg)(),(0,l.iD)("div",yt,[gt,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[22]||(t[22]=t=>e.maxLengthPole=t),min:"0",max:"1000",disabled:!this.canWritePoles,type:"number",name:"",placeholder:"Введите максимальную длину строки",class:"input-text input-field"},null,8,vt),[[a.nr,e.maxLengthPole,void 0,{trim:!0}]])])):(0,l.kq)("",!0),"number"===this.typePole?((0,l.wg)(),(0,l.iD)("div",xt,[wt,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[23]||(t[23]=t=>e.minValuePole=t),disabled:!this.canWritePoles,type:"number",name:"",placeholder:"Введите минимальное значение",class:"input-text input-field"},null,8,kt),[[a.nr,e.minValuePole,void 0,{trim:!0}]])])):(0,l.kq)("",!0),"number"===this.typePole?((0,l.wg)(),(0,l.iD)("div",ft,[St,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[24]||(t[24]=t=>e.maxValuePole=t),disabled:!this.canWritePoles,type:"number",name:"",placeholder:"Введите максильное значение",class:"input-text input-field"},null,8,bt),[[a.nr,e.maxValuePole,void 0,{trim:!0}]])])):(0,l.kq)("",!0),"text"===this.typePole||"number"===this.typePole?((0,l.wg)(),(0,l.iD)("div",Pt,[Dt,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[25]||(t[25]=t=>e.defaultValuePole=t),minlength:"0",maxlength:"255",type:"text",name:"",id:"",class:"input-text",placeholder:"Значение по умолчанию",title:"Введите значение по умолчанию",disabled:!this.canWritePoles},null,8,Mt),[[a.nr,e.defaultValuePole,void 0,{trim:!0}]])])):(0,l.kq)("",!0),"date"===this.typePole?((0,l.wg)(),(0,l.iD)("div",_t,[Ct,(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":t[26]||(t[26]=t=>e.minValueDatePole=t),max:this.maxValueDatePole,class:"input-text status-data-menu-date-input",disabled:!this.canWritePoles},null,8,Vt),[[a.nr,e.minValueDatePole]]),Lt,(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":t[27]||(t[27]=t=>e.maxValueDatePole=t),min:this.minValueDatePole,class:"input-text status-data-menu-date-input",disabled:!this.canWritePoles},null,8,qt),[[a.nr,e.maxValueDatePole]])])):(0,l.kq)("",!0)]),zt,(0,l._)("div",Zt,[$t,(0,l._)("div",At,[this.modPole?((0,l.wg)(),(0,l.j4)(Oe,{selected:""===this.poyavPoleId,content:this.usechArr,message:"Выберите поле",multy:!1,disabled:!this.canWritePoles,equalId:this.poyavPoleId,key:this.keyModSelectVis,class:"fix-widtd-5-12 selected-condition-field"},null,8,["selected","content","disabled","equalId"])):((0,l.wg)(),(0,l.j4)(Oe,{selected:!0,content:this.structureLits,message:"Выберите поле",multy:!1,disabled:!this.canWritePoles,equalId:-1,key:this.keySelectVis,class:"fix-widtd-5-12 selected-condition-field"},null,8,["content","disabled"])),It,(0,l._)("div",Nt,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[28]||(t[28]=t=>e.poyavValue=t),minlength:"0",maxlength:"255",type:"text",name:"",id:"",class:"input-text",placeholder:"Значение равенства",title:"Введите значение при котором поле появится",disabled:!this.canWritePoles},null,8,Ut),[[a.nr,e.poyavValue,void 0,{trim:!0}]])])])])]),(0,l._)("div",jt,[Bt,this.modPole?((0,l.wg)(),(0,l.iD)("button",{key:1,type:"submit",class:"main-btn inline-block px-5 py-3 w-[150px] text-center text-xl",disabled:!this.canWritePoles},"Обновить",8,Ht)):((0,l.wg)(),(0,l.iD)("button",{key:0,type:"submit",class:"main-btn inline-block px-5 py-3 w-[150px] text-center text-xl",disabled:!this.canWritePoles},"Добавить",8,Rt))])],544)]),(0,l._)("div",Tt,[(0,l._)("div",Ot,[Wt,(0,l._)("ul",Jt,[(0,l._)("li",Et,[(0,l._)("button",{class:"flex items-center",onClick:t[30]||(t[30]=(0,a.iM)(((...e)=>J.createTextPole&&J.createTextPole(...e)),["prevent"]))},[Yt,(0,l.Uk)(" Текстовое поле ")])]),(0,l._)("li",{class:"object-panel-item",onClick:t[31]||(t[31]=(0,a.iM)(((...e)=>J.createNumberPole&&J.createNumberPole(...e)),["prevent"]))},Ft),(0,l._)("li",Xt,[(0,l._)("button",{class:"flex items-center",onClick:t[32]||(t[32]=(0,a.iM)(((...e)=>J.createSelectPole&&J.createSelectPole(...e)),["prevent"]))},[Gt,(0,l.Uk)(" Выпадающий список ")])]),(0,l._)("li",Qt,[(0,l._)("button",{class:"flex items-center",onClick:t[33]||(t[33]=(0,a.iM)(((...e)=>J.createRadioPole&&J.createRadioPole(...e)),["prevent"]))},[es,(0,l.Uk)(" Один вариант ")])]),(0,l._)("li",ts,[(0,l._)("button",{class:"flex items-center",onClick:t[34]||(t[34]=(0,a.iM)(((...e)=>J.createCheckboxPole&&J.createCheckboxPole(...e)),["prevent"]))},[ss,(0,l.Uk)(" Несколько вариантов ")])]),(0,l._)("li",{class:"object-panel-item",onClick:t[35]||(t[35]=(0,a.iM)(((...e)=>J.createDatePole&&J.createDatePole(...e)),["prevent"]))},is),(0,l._)("li",as,[(0,l._)("button",{class:"flex items-center",onClick:t[36]||(t[36]=(0,a.iM)(((...e)=>J.createEmployeePole&&J.createEmployeePole(...e)),["prevent"]))},[os,(0,l.Uk)(" Выпадающий список сотрудников ")])]),(0,l._)("li",rs,[(0,l._)("button",{class:"flex items-center",onClick:t[37]||(t[37]=(0,a.iM)(((...e)=>J.createStudentPole&&J.createStudentPole(...e)),["prevent"]))},[ns,(0,l.Uk)(" Выпадающий список студентов ")])])])]),(0,l._)("div",ds,[!1===this.createMode?((0,l.wg)(),(0,l.iD)("div",us,[(0,l._)("div",cs,[(0,l._)("div",hs,[(0,l.Uk)("Статус: "),this.isActive?((0,l.wg)(),(0,l.iD)("span",ms,"Активный")):((0,l.wg)(),(0,l.iD)("span",ps,"Деактивированный"))])]),(0,l._)("div",ys,[(0,l._)("div",gs,[(0,l._)("div",vs,"Дата создания: "+(0,i.zw)(this.$normaldate(this.dateCreate)),1),(0,l._)("div",xs,"Дата обновления: "+(0,i.zw)(this.$normaldate(this.dateUpdate)),1)])]),null!==this.oldStructureDocument?((0,l.wg)(),(0,l.iD)("div",ws,[ks,(0,l.Wm)(et,{class:"p-1 main-btn inline-block",to:"/constructors/document/create?documnetStructure="+this.oldStructureDocument.id},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(this.oldStructureDocument.name+" №("+this.oldStructureDocument.id+")"),1)])),_:1},8,["to"])])):(0,l.kq)("",!0),0!==this.listNewDocumentStructures.length?((0,l.wg)(),(0,l.iD)("div",fs,[Ss,(0,l._)("ul",bs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.listNewDocumentStructures,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.id,class:"newDocumentStructuresList-item"},[(0,l.Wm)(et,{class:"p-1 main-btn block",to:"/constructors/document/create?documnetStructure="+e.id},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.name+" №("+e.id+")"),1)])),_:2},1032,["to"])])))),128))])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,l._)("div",Ps,[(0,l._)("div",Ds,[Ms,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[38]||(t[38]=t=>e.nameStructure=t),class:(0,i.C_)([{invalid:M.v$.nameStructure.$errors.length},"input-text"]),minlength:"1",maxlength:"255",required:"",type:"text",name:"nameStructure",id:"",placeholder:"Название шаблона",title:"Введите название шаблона",disabled:!this.canWritePoles},null,10,_s),[[a.nr,e.nameStructure,void 0,{trim:!0}]]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(M.v$.nameStructure.$errors,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"input-errors max-w-xl",key:e.$uid},[(0,l._)("div",Cs,(0,i.zw)("This field should be at least 1 characters long"===e.$message?"Длина этого поля должна составлять не менее 1 символа":"Value is required"===e.$message?"Значение является обязательным":e.$message),1)])))),128))]),(0,l._)("div",Vs,[Ls,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[39]||(t[39]=t=>e.descriptionStructure=t),class:(0,i.C_)([{invalid:M.v$.descriptionStructure.$errors.length},"input-text"]),name:"descriptionStructure",id:"",maxlength:"500",placeholder:"Описание шаблона",disabled:!this.canWritePoles},null,10,qs),[[a.nr,e.descriptionStructure,void 0,{trim:!0}]]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(M.v$.descriptionStructure.$errors,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"input-errors max-w-xl",key:e.$uid},[(0,l._)("div",zs,(0,i.zw)("Value is required"===e.$message?"Значение является обязательным":e.$message),1)])))),128))]),(0,l._)("div",Zs,[$s,(0,l._)("div",As,[(0,l._)("div",Is,[((0,l.wg)(),(0,l.j4)(Oe,{selected:!1,content:this.typesDocuments,message:"Выберите тип документа",multy:!1,disabled:!this.canWritePoles,equalId:this.selectTypeInLoadStucture,key:this.keySelectDocumentTypes},null,8,["content","disabled","equalId"]))]),(0,l._)("button",{class:"main-btn py-3 px-5 flex self-start",onClick:t[40]||(t[40]=(0,a.iM)(((...e)=>J.createType&&J.createType(...e)),["prevent"])),disabled:!this.canWritePoles},[Us,(0,l.Uk)(" Добавить ")],8,Ns)])])]),js,0!==this.listReadyPoles.length?((0,l.wg)(),(0,l.iD)("div",Bs,[(0,l._)("ul",Rs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.listReadyPoles,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t,onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"]),class:"structure-vue-body-item w-full py-3 px-12 border rounded-lg flex justify-between items-center"},[(0,l._)("div",Ts,[(0,l._)("div",{class:"structure-item-title text-xl mb-1",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},(0,i.zw)(this.listReadyPoles[t].name),9,Os),"text"===this.listReadyPoles[t].type?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"structure-item-type flex items-center",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},[Js,(0,l.Uk)(" Текстовое поле ")],8,Ws)):"number"===this.listReadyPoles[t].type?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"structure-item-type flex items-center",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},[Ys,(0,l.Uk)(" Числовое поле ")],8,Es)):"select"===this.listReadyPoles[t].type?((0,l.wg)(),(0,l.iD)("div",{key:2,class:"structure-item-type flex items-center",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},[Fs,(0,l.Uk)(" Выпадающий список ")],8,Ks)):"radio"===this.listReadyPoles[t].type?((0,l.wg)(),(0,l.iD)("div",{key:3,class:"structure-item-type flex items-center",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},[Gs,(0,l.Uk)(" Один вариант ")],8,Xs)):"checkbox"===this.listReadyPoles[t].type?((0,l.wg)(),(0,l.iD)("div",{key:4,class:"structure-item-type flex items-center",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},[el,(0,l.Uk)(" Несколько вариантов ")],8,Qs)):"date"===this.listReadyPoles[t].type?((0,l.wg)(),(0,l.iD)("div",{key:5,class:"structure-item-type flex items-center",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},[sl,(0,l.Uk)(" Дата ")],8,tl)):"employees"===this.listReadyPoles[t].type?((0,l.wg)(),(0,l.iD)("div",{key:6,class:"structure-item-type flex items-center",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},[il,(0,l.Uk)(" Выпадающий список сотрудников ")],8,ll)):"students"===this.listReadyPoles[t].type?((0,l.wg)(),(0,l.iD)("div",{key:7,class:"structure-item-type flex items-center",onClick:(0,a.iM)((e=>J.modificationPole(void 0!==this.listReadyPoles[t]?this.listReadyPoles[t].id:0)),["self"])},[ol,(0,l.Uk)(" Выпадающий список студентов ")],8,al)):(0,l.kq)("",!0)]),(0,l._)("div",rl,[(0,l._)("button",{class:"main-btn-red inline-block px-2 py-2 text-center text-lg flex",onClick:(0,a.iM)((e=>this.deleteItemInlistReadyPoles(t)),["stop"]),disabled:!this.canWritePoles},ul,8,nl)])],8,Hs)))),128))])])):((0,l.wg)(),(0,l.iD)("div",cl," Пока что полей нет "))])])])])],64)}s(7658);var ml=s(2435),pl=s(6270),yl=s(8310),gl=s(7901),vl=s(7882),xl=s(3053),wl=s(9117);s(3767),s(8585),s(8696);let kl=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>(t&=63,e+=t<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_",e)),"");var fl={name:"ConstructorDocumentView",setup(){return{v$:(0,xl.Xw)()}},data:()=>({dateCreate:"",dateUpdate:"",selectReqValue:null,modal:null,typeModel:null,createInputModel:null,createStructureModal:null,updateStructureModel:null,updateStatusModel:null,select:null,loading:!0,updateMode:!1,createMode:!1,content:[],typesDocuments:[],inputTypeName:!1,typeName:"",validTypeName:!1,structureLits:[],listReadyPoles:[],nameStructure:"",descriptionStructure:"",keySelectVis:1,keySelectDocumentTypes:1,keyModSelectVis:1,selectTypeInLoadStucture:-1,idPole:"",typePole:"",namePole:"",descriptionPole:"",placeholderPole:"",defaultValuePole:"",requiredPole:!0,minLengthPole:0,maxLengthPole:"",minValuePole:"",maxValuePole:"",stepValuePole:"",multiSelectPole:!1,optionListPole:{data:{}},externalDependencyPole:{id:"",value:""},listSelects:[""],listRadios:[""],listCheckbox:[""],minValueDatePole:"",maxValueDatePole:"",poyavPoleId:"",poyavValue:"",usechArr:[],modPole:!1,replaceStatusDocuments:!1,documnetStructureActive:!0,isActive:!0,listNewDocumentStructures:[],oldStructureDocument:null}),validations(){return{typeName:{required:wl.C1,minLength:(0,wl.Ei)(1),maxLength:(0,wl.BS)(50)},namePole:{required:wl.C1,minLength:(0,wl.Ei)(1),maxLength:(0,wl.BS)(100)},descriptionPole:{minLength:(0,wl.Ei)(1),maxLength:(0,wl.BS)(255)},placeholderPole:{required:wl.C1,minLength:(0,wl.Ei)(1),maxLength:(0,wl.BS)(255)},requiredPole:{required:wl.C1},nameStructure:{required:wl.C1,minLength:(0,wl.Ei)(1),maxLength:(0,wl.BS)(255)},descriptionStructure:{maxLength:(0,wl.BS)(500)},poyavValue:{maxLength:(0,wl.BS)(255)}}},async mounted(){pl.Z[this.$route.query.message]&&this.$message(pl.Z[this.$route.query.message]),void 0===this.$route.query.documnetStructure?(this.createMode=!0,setTimeout((()=>{this.updateComp()}))):(await vl.Z.checkDocumentStructure(this.$route.query.documnetStructure).then((e=>{e.data||this.$router.go(-1)}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),await vl.Z.getDocumentStructure(this.$route.query.documnetStructure).then((e=>{this.nameStructure=e.data.name,this.descriptionStructure=e.data.description,this.selectTypeInLoadStucture=e.data.documentType.id,this.documnetStructureActive=e.data.isActive,this.dateCreate=e.data.dateCreate,this.dateUpdate=e.data.dateUpdate,this.isActive=e.data.isActive;let t=e.data.structure;null!==e.data.oldStructureId&&""!==e.data.oldStructureId?vl.Z.getDocumentStructure(e.data.oldStructureId).then((e=>{this.oldStructureDocument=e.data,this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})):this.oldStructureDocument=null;while("string"===typeof t)t=JSON.parse(t);this.structureLits=t.data,this.listReadyPoles=[];for(let s of this.structureLits){let e={};e.id=s.id,e.name=s.name,"text"===s.type||"number"===s.type||"date"===s.type||"radio"===s.type||"checkbox"===s.type?e.type=s.type:"selectMultiple"===s.type||"selectSingle"===s.type?e.type="select":"selectMultipleImage"===s.type||"selectSingleImage"===s.type?e.type="employees":"selectMultipleStudent"!==s.type&&"selectSingleStudent"!==s.type||(e.type="students"),this.listReadyPoles.push(e)}this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),await vl.Z.getNewDocumentStructures(this.$route.query.documnetStructure).then((e=>{this.listNewDocumentStructures=e.data,this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.updateComp()),await vl.Z.getAllDocumentTypes().then((e=>{this.typesDocuments=e.data,setTimeout((()=>{this.updateComp()}))}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),setTimeout((()=>{this.modal=M.Modal.init(this.$refs.modal),this.typeModel=M.Modal.init(this.$refs.typeCreateModel),this.updateStructureModel=M.Modal.init(this.$refs.updateStructureModel),this.updateStatusModel=M.Modal.init(this.$refs.updateStatusModel),this.createStructureModal=M.Modal.init(this.$refs.createStructureModal,{onCloseEnd:()=>{this.idPole="",this.typePole="",this.namePole="",this.descriptionPole="",this.placeholderPole="",this.defaultValuePole="",this.requiredPole=!0,this.minLengthPole=0,this.maxLengthPole="",this.minValuePole="",this.maxValuePole="",this.stepValuePole="",this.multiSelectPole=!1,this.optionListPole={data:{}},this.externalDependencyPole={id:"",value:""},this.listSelects=[""],this.listRadios=[""],this.listCheckbox=[""],this.minValueDatePole="",this.maxValueDatePole="",this.modPole=!1,this.poyavPoleId="",this.poyavValue=""}}),this.select=M.FormSelect.init(document.querySelectorAll("select"),{}),this.updateComp()}),0),this.loading=!1},methods:{updateDocumentStatus(){this.updateStatusModel.open()},async revActivationDocumentStructure(){this.loading=!0,this.updateStatusModel.close(),await vl.Z.updateStatusDocumentStructure(this.$route.query.documnetStructure,!this.documnetStructureActive).then((e=>{this.documnetStructureActive?this.$message(`Шаблон №${this.$route.query.documnetStructure} деактивирован`):this.$message(`Шаблон №${this.$route.query.documnetStructure} активирован`),this.documnetStructureActive=!this.documnetStructureActive,this.isActive=!this.isActive})),this.loading=!1},async rajectChangesStructure(){this.loading=!0,await vl.Z.getDocumentStructure(this.$route.query.documnetStructure).then((e=>{this.nameStructure=e.data.name,this.descriptionStructure=e.data.description,this.selectTypeInLoadStucture=e.data.documentType.id,null!==e.data.oldStructureId&&""!==e.data.oldStructureId?vl.Z.getDocumentStructure(e.data.oldStructureId).then((e=>{this.oldStructureDocument=e.data,this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})):this.oldStructureDocument=null;let t=e.data.structure;while("string"===typeof t)t=JSON.parse(t);this.structureLits=t.data,this.listReadyPoles=[];for(let s of this.structureLits){let e={};e.id=s.id,e.name=s.name,"text"===s.type||"number"===s.type||"date"===s.type||"radio"===s.type||"checkbox"===s.type?e.type=s.type:"selectMultiple"===s.type||"selectSingle"===s.type?e.type="select":"selectMultipleImage"===s.type||"selectSingleImage"===s.type?e.type="employees":"selectMultipleStudent"!==s.type&&"selectSingleStudent"!==s.type||(e.type="students"),this.listReadyPoles.push(e)}this.updateComp(),this.replaceStatusDocuments=!1}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.loading=!1,this.updateMode=!1,this.updateComp(),this.$message("Изменения отменены")},modalupdateDocumentStructure(){this.updateStructureModel.open()},async updateDocumentStructure(){this.loading=!0;let e=document.querySelector(".document-type-select").querySelectorAll("li"),t="",s={data:[]};s.data=this.structureLits;for(let l of e)if(l.classList.value.includes("selected")){let e=l.textContent.split(" ");t=e[e.length-1].replace(/^.|.$/g,"");break}await vl.Z.updateDocumentStructure(this.$route.query.documnetStructure,this.nameStructure,this.descriptionStructure,t,s).then((e=>{vl.Z.updateStatusDocumentsByStructureId(this.$route.query.documnetStructure).then((e=>{}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.$message(`Обновлен Шаблон документов №${e.data.id}`),this.updateStructureModel.close(),this.replaceStatusDocuments=!1,this.updateMode=!1,this.updateComp()})),await vl.Z.getDocumentStructure(this.$route.query.documnetStructure).then((e=>{this.nameStructure=e.data.name,this.descriptionStructure=e.data.description,this.selectTypeInLoadStucture=e.data.documentType.id,this.documnetStructureActive=e.data.isActive,this.dateCreate=e.data.dateCreate,this.dateUpdate=e.data.dateUpdate,this.isActive=e.data.isActive,null!==e.data.oldStructureId&&""!==e.data.oldStructureId?vl.Z.getDocumentStructure(e.data.oldStructureId).then((e=>{this.oldStructureDocument=e.data,this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})):this.oldStructureDocument=null;let t=e.data.structure;while("string"===typeof t)t=JSON.parse(t);this.structureLits=t.data,this.listReadyPoles=[];for(let s of this.structureLits){let e={};e.id=s.id,e.name=s.name,"text"===s.type||"number"===s.type||"date"===s.type||"radio"===s.type||"checkbox"===s.type?e.type=s.type:"selectMultiple"===s.type||"selectSingle"===s.type?e.type="select":"selectMultipleImage"===s.type||"selectSingleImage"===s.type?e.type="employees":"selectMultipleStudent"!==s.type&&"selectSingleStudent"!==s.type||(e.type="students"),this.listReadyPoles.push(e)}this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),await vl.Z.getNewDocumentStructures(this.$route.query.documnetStructure).then((e=>{this.listNewDocumentStructures=e.data,this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.loading=!1},createTextPole(){this.typePole="text",this.replaceStatusDocuments=!0,this.createStructureModal.open()},createNumberPole(){this.typePole="number",this.replaceStatusDocuments=!0,this.createStructureModal.open()},createSelectPole(){this.typePole="select",this.replaceStatusDocuments=!0,this.createStructureModal.open()},createRadioPole(){this.typePole="radio",this.replaceStatusDocuments=!0,this.createStructureModal.open()},createCheckboxPole(){this.typePole="checkbox",this.replaceStatusDocuments=!0,this.createStructureModal.open()},createDatePole(){this.typePole="date",this.replaceStatusDocuments=!0,this.createStructureModal.open()},createEmployeePole(){this.typePole="employees",this.replaceStatusDocuments=!0,this.createStructureModal.open()},createStudentPole(){this.typePole="students",this.replaceStatusDocuments=!0,this.createStructureModal.open()},saveStructurePole(){this.modPole||(this.idPole=kl());let e={};if(e.id=this.idPole,e.name=this.namePole,e.description=this.descriptionPole,e.required=this.requiredPole,e.placeholder=this.placeholderPole,"text"===this.typePole)e.type="text",e.minLength=this.minLengthPole,e.maxLength=""!==this.maxLengthPole||Number(this.maxLengthPole)>Number(this.minLengthPole)?Number(this.maxLengthPole):""===this.maxLengthPole?255:Number(this.maxLengthPole)+Number(this.minLengthPole)+1,e.defaultValue=this.defaultValuePole;else if("number"===this.typePole)e.type="number",e.stepValue=1,e.defaultValue=this.defaultValuePole,e.minValue=this.minValuePole,e.maxValue=e.maxValuePole=""!==this.minValuePole&&Number(this.maxValuePole)>Number(this.minValuePole)?Number(this.maxValuePole):""===this.maxValuePole?"":Number(this.maxValuePole)+Number(this.minValuePole)+1;else if("select"===this.typePole){this.multiSelectPole?e.type="selectMultiple":e.type="selectSingle";for(let e of this.listSelects)""!==e&&(this.optionListPole.data[e]=null);if(0===Object.keys(this.optionListPole.data).length)return void this.$error("Должно присутствовать минимум 1 заполненное поле");e.options=this.optionListPole}else if("radio"===this.typePole){e.type="radio";for(let e of this.listRadios)""!==e&&(this.optionListPole.data[e]=null);if(0===Object.keys(this.optionListPole.data).length)return void this.$error("Должно присутствовать минимум 1 заполненное поле");e.options=this.optionListPole}else if("checkbox"===this.typePole){e.type="checkbox";for(let e of this.listCheckbox)""!==e&&(this.optionListPole.data[e]=null);if(0===Object.keys(this.optionListPole.data).length)return void this.$error("Должно присутствовать минимум 1 заполненное поле");e.options=this.optionListPole}else"date"===this.typePole?(e.type="date",e.minValue=this.minValueDatePole,e.maxValue=this.maxValueDatePole):"employees"===this.typePole?this.multiSelectPole?e.type="selectMultipleImage":e.type="selectSingleImage":"students"===this.typePole&&(this.multiSelectPole?e.type="selectMultipleStudent":e.type="selectSingleStudent");let t=document.querySelector(".selected-condition-field").querySelectorAll("li");for(let s of t){if(s.classList.value.includes("disabled")&&s.classList.value.includes("selected"))break;if(s.classList.value.includes("selected")){let t=s.textContent.split(" ");this.poyavPoleId=t[t.length-1].replace(/^.|.$/g,""),e.externalDependency={},e.externalDependency.id=this.poyavPoleId,e.externalDependency.value=this.poyavValue;break}}if(this.modPole){for(let s=0;s<this.structureLits.length;++s)if(this.structureLits[s].id===this.idPole){this.structureLits[s]=e,this.listReadyPoles[s].name=e.name,this.$message("Поле обновлено");break}}else{let t={};t.id=e.id,t.type=this.typePole,t.name=e.name,this.listReadyPoles.push(t),this.structureLits.push(e),this.$message("Поле добавлено")}this.keySelectVis+=1,this.keyModSelectVis+=1,this.idPole="",this.namePole="",this.descriptionPole="",this.placeholderPole="",this.multiSelectPole=!1,this.optionListPole={data:{}},this.createStructureModal.close(),this.listSelects=[""],this.listRadios=[""],this.listCheckbox=[""],this.minValueDatePole="",this.maxValueDatePole="",this.poyavPoleId="",this.poyavValue=""},modificationPole(e){for(let t of this.structureLits)if(t.id===e){this.keyModSelectVis+=1,this.idPole=t.id,this.namePole=t.name,this.descriptionPole=t.description,this.requiredPole=t.required,this.placeholderPole=t.placeholder,this.poyavPoleId=void 0!==t.externalDependency?t.externalDependency.id:"",this.poyavValue=void 0!==t.externalDependency?t.externalDependency.value:"",this.usechArr=[];for(let e of this.structureLits){if(e.id===t.id)break;this.usechArr.push(e)}"text"===t.type?(this.typePole="text",this.minLengthPole=t.minLength,this.maxLengthPole=t.maxLength,this.defaultValuePole=t.defaultValue):"number"===t.type?(this.typePole="number",this.minValuePole=t.minValue,this.maxValuePole=t.maxValue,this.defaultValuePole=t.defaultValue):"selectMultiple"===t.type||"selectSingle"===t.type?(this.typePole="select",this.multiSelectPole="selectMultiple"===t.type,this.listSelects=Object.keys(t.options.data)):"radio"===t.type?(this.typePole="radio",this.listRadios=Object.keys(t.options.data)):"checkbox"===t.type?(this.typePole="checkbox",this.listCheckbox=Object.keys(t.options.data)):"date"===t.type?(this.typePole="date",this.minValueDatePole=t.minValue,this.maxValueDatePole=t.maxValue):"selectMultipleImage"===t.type||"selectSingleImage"===t.type?(this.typePole="employees",this.multiSelectPole="selectMultipleImage"===t.type):"selectMultipleStudent"!==t.type&&"selectSingleStudent"!==t.type||(this.typePole="students",this.multiSelectPole="selectMultipleStudent"===t.type),this.modPole=!0,this.createStructureModal.open();break}},async createDocumentType(){this.loading=!0,await vl.Z.createDocumentType(this.typeName).then((e=>{this.typeName="",vl.Z.getAllDocumentTypes().then((e=>{this.typesDocuments=e.data,this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.typeModel.close(),this.$message(`Тип документа №${e.data.id} создан`)}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.loading=!1},async createNewDocumentStructure(){this.loading=!0;let e=document.querySelector(".document-type-select").querySelectorAll("li"),t="",s={data:[]};s.data=this.structureLits;for(let l of e)if(l.classList.value.includes("selected")){let e=l.textContent.split(" ");t=e[e.length-1].replace(/^.|.$/g,"");break}await vl.Z.createDocumentStructure("",this.nameStructure,this.descriptionStructure,t,s).then((e=>{this.$message(`Создан Шаблон документов №${e.data.id}`),this.nameStructure="",this.descriptionStructure="",this.structureLits=[],this.listReadyPoles=[],this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.loading=!1},async checkDocumentTypeName(){await vl.Z.checkDocumentTypeName(this.typeName).then((e=>{e.data||""===this.typeName?this.validTypeName=!1:this.validTypeName=!0}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")}))},addCheckboxValue(){this.listCheckbox.push("")},deleteCheckboxItem(e){this.listCheckbox=this.deleteItemInArr(this.listCheckbox,e)},addRadioValue(){this.listRadios.push("")},deleteRadioItem(e){this.listRadios=this.deleteItemInArr(this.listRadios,e)},addSelectValue(){this.listSelects.push("")},deleteSelectItem(e){this.listSelects=this.deleteItemInArr(this.listSelects,e)},createType(){this.typeModel.open()},leavingPage(){this.canWritePoles?this.modal.open():this.back()},back(){this.$router.go(-1)},deleteItemInlistReadyPoles(e){this.keySelectVis+=1,this.keyModSelectVis+=1;for(let t=0;t<this.structureLits.length;++t)void 0!==this.structureLits[t].externalDependency&&this.structureLits[t].externalDependency.id===this.listReadyPoles[e].id&&delete this.structureLits[t].externalDependency;this.listReadyPoles=this.deleteItemInArr(this.listReadyPoles,e),this.structureLits=this.deleteItemInArr(this.structureLits,e),this.replaceStatusDocuments=!0},onUpdateMode(){this.updateMode=!0,this.updateComp()},deleteItemInArr(e,...t){var s=new Set(t);return e.filter(((e,t)=>!s.has(t)))},updateComp(){this.keySelectVis+=1,this.keyModSelectVis+=1,this.keySelectDocumentTypes+=1}},beforeDestroy(){this.modal&&this.modal.destroy&&this.modal.destroy(),this.typeModel&&this.typeModel.destroy&&this.typeModel.destroy(),this.createStructureModal&&this.createStructureModal.destroy&&this.createStructureModal.destroy(),this.select&&this.select.destroy&&this.select.destroy(),this.updateStructureModel&&this.updateStructureModel.destroy&&this.updateStructureModel.destroy(),this.updateStatusModel&&this.updateStatusModel.destroy&&this.updateStatusModel.destroy()},computed:{canWritePoles(){return this.updateMode||this.createMode}},watch:{async $route(){this.loading=!0,pl.Z[this.$route.query.message]&&this.$message(pl.Z[this.$route.query.message]),void 0===this.$route.query.documnetStructure?(this.createMode=!0,setTimeout((()=>{this.updateComp()}))):(await vl.Z.checkDocumentStructure(this.$route.query.documnetStructure).then((e=>{e.data||this.$router.go(-1)}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),await vl.Z.getDocumentStructure(this.$route.query.documnetStructure).then((e=>{this.nameStructure=e.data.name,this.descriptionStructure=e.data.description,this.selectTypeInLoadStucture=e.data.documentType.id,this.documnetStructureActive=e.data.isActive,this.dateCreate=e.data.dateCreate,this.dateUpdate=e.data.dateUpdate,this.isActive=e.data.isActive,null!==e.data.oldStructureId&&""!==e.data.oldStructureId?vl.Z.getDocumentStructure(e.data.oldStructureId).then((e=>{this.oldStructureDocument=e.data,this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})):this.oldStructureDocument=null;let t=e.data.structure;while("string"===typeof t)t=JSON.parse(t);this.structureLits=t.data,this.listReadyPoles=[];for(let s of this.structureLits){let e={};e.id=s.id,e.name=s.name,"text"===s.type||"number"===s.type||"date"===s.type||"radio"===s.type||"checkbox"===s.type?e.type=s.type:"selectMultiple"===s.type||"selectSingle"===s.type?e.type="select":"selectMultipleImage"===s.type||"selectSingleImage"===s.type?e.type="employees":"selectMultipleStudent"!==s.type&&"selectSingleStudent"!==s.type||(e.type="students"),this.listReadyPoles.push(e)}this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),await vl.Z.getNewDocumentStructures(this.$route.query.documnetStructure).then((e=>{this.listNewDocumentStructures=e.data,this.updateComp()}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.updateComp()),await vl.Z.getAllDocumentTypes().then((e=>{this.typesDocuments=e.data,setTimeout((()=>{this.updateComp()}))}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.$error(pl.Z[this.message]||"Что-то пошло не так")})),this.loading=!1}},components:{Sidebar:ml.Z,FullScreenLoader:gl.Z,SelectVue:yl.Z}},Sl=s(89);const bl=(0,Sl.Z)(fl,[["render",hl]]);var Pl=bl}}]);
//# sourceMappingURL=887.df5c5f0f.js.map